window.docContents[255].resolve({"/#PSBP-Documentation--What-about--Functorial-___":{"id":"/#PSBP-Documentation--What-about--Functorial-___","header":"5. What about  Functorial ?","context":"PSBP Documentation","contents":"You may wonder why neither fibonacci nor factorial use Functorial. A Functorial instance can be defined in terms\nof Function and Sequential.\n\ninstance\n    [Functional program]\n    [Sequential program] :\n    Functorial program where\n  andThenF {α β γ: Type} :\n    program α β → (β → γ) → program α γ :=\n      λ αpβ => λ βfγ => αpβ >=> asProgram βfγ\n\n\nThe f in βfγ stands for \"function\".\n\nSo why introducing Functorial in the first place? Well, the combination of Functorial with Functional, and\nCreational is sufficiently expressive to write interesting programs and that are more flexible as far as\nimplementation and corresponding materialization is concerned than the ones using Sequential.\n\nBelow are two programs, twiceMinusOne01 and twiceMinusOne02.\n\ndef twiceMinusOne01\n    [Functional program]\n    [Functorial program]\n    [Creational program] :\n  program Nat Nat :=\n    minusOne &&& minusOne >-> addF\n\ndef twiceMinusOne02\n    [Functional program]\n    [Sequential program]\n    [Creational program] :\n  program Nat Nat :=\n    minusOne &&& minusOne >=> add\n\n\n\ntwiceMinusOne02 uses the full power of Sequential while twiceMinusOne01 uses the less expressive Functorial.\nUsing Sequential is, in this case, an unnecessary overkill because the addition that is used in both cases is\neffectfree.\n\nThat being said, you may argue that what you have read so far is also an unnecessary overkill because, after all, I only\nshowed (effectfree) functions. But think of replacing minusOne and/ or minusTwO by an effectful program. Having more\nimplementation and corresponding materialization flexibility when dealing with effects can really be useful. A standard\nexample is more flexible error handling when processing a submitted web form and even error correction when parsing a\ndocument.\n\n"}});