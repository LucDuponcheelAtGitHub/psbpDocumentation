<!DOCTYPE html>
<html>
  <head>
    <script>
      (function(){
  const {protocol:proto, host:hostName, pathname:path, search:srch, hash:hsh} = window.location;
  if (!(path.endsWith("/") || path.endsWith(".html"))) {
    window.location.replace(`${proto}//${hostName}${path}/${srch}${hsh}`);
  }
})()</script>
    <base href="./"><meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
    <title>PSBP Documentation</title><link rel="stylesheet" href="book.css">
    <script>
      const __versoSiteRoot = document.baseURI;</script>
    <script src="https://cdn.jsdelivr.net/npm/marked@11.1.1/marked.min.js" integrity="sha384-zbcZAIxlvJtNE3Dp5nxLXdXtXyxwOdnILY1TDPVmKFhl4r4nSUG1r8bcFXGVa4Te" crossorigin="anonymous"></script>
    <script src="-verso-search/elasticlunr.min.js"></script>
    <script src="-verso-search/fuzzysort.js"></script>
    <script src="-verso-search/searchIndex.js"></script>
    <script type="module" src="-verso-search/search-init.js"></script>
    <link rel="stylesheet" href="-verso-search/search-box.css">
    <link rel="stylesheet" href="-verso-search/search-highlight.css">
    <link rel="stylesheet" href="-verso-search/domain-display.css">
    <script src="-verso-data/popper.js"></script>
    <script src="-verso-data/tippy.js"></script>
    <link rel="stylesheet" href="-verso-data/tippy-border.css">
    <style>

.hl.lean {
  white-space: pre;
  font-weight: normal;
  font-style: normal;
}

.hl.lean .keyword {
  font-weight : bold;
}

.hl.lean .var {
  font-style: italic;
  position: relative;
}

.hover-container {
  width: 0;
  height: 0;
  position: relative;
  display: inline;
}

.hl.lean a {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}

.hl.lean a:hover {
  text-decoration: currentcolor underline solid;
}

.hl.lean .hover-info {
  white-space: normal;
}

.hl.lean .token .hover-info {
  display: none;
  position: absolute;
  background-color: #e5e5e5;
  border: 1px solid black;
  padding: 0.5rem;
  z-index: 300;
  font-size: inherit;
}

.hl.lean .hover-info.messages {
  max-height: 10rem;
  overflow-y: auto;
  overflow-x: hidden;
  scrollbar-gutter: stable;
  padding: 0 0.5rem 0 0;
  display: block;
}

.hl.lean .hover-info code {
  white-space: pre-wrap;
}

.hl.lean .hover-info.messages > code {
  padding: 0.5rem;
  display: block;
  width: fit-content;
}

.hl.lean .hover-info.messages > code:only-child {
  margin: 0;
}

.hl.lean .hover-info.messages > code {
  margin: 0.1rem;
}

.hl.lean .hover-info.messages > code:not(:first-child) {
  margin-top: 0rem;
}

.hl.lean.block {
  display: block;
}

.hl.lean.inline {
  display: inline;
  white-space: pre-wrap;
}

.hl.lean .token {
  transition: all 0.25s; /* Slight fade for highlights */
}

@media (hover: hover) {
  .hl.lean .token.binding-hl, .hl.lean .literal.string:hover, .hl.lean .token.typed:hover {
    background-color: #eee;
    border-radius: 2px;
    transition: none;
  }
}


.hl.lean .has-info .token:not(.tactic-state):not(.tactic-state *), .hl.lean .has-info .inter-text:not(.tactic-state):not(.tactic-state *) {
  text-decoration-style: wavy;
  text-decoration-line: underline;
  text-decoration-thickness: from-font;
  text-decoration-skip-ink: none;
}

.hl.lean .has-info .hover-info {
  display: none;
  position: absolute;
  transform: translate(0.25rem, 0.3rem);
  border: 1px solid black;
  padding: 0.5rem;
  z-index: 400;
  text-align: left;
}

.hl.lean .has-info.error :not(.tactic-state):not(.tactic-state *){
  text-decoration-color: red;
}

@media (hover: hover) {
  .hl.lean .has-info.error:hover {
    background-color: #ffb3b3;
  }
}

.hl.lean .hover-info.messages > code.error {
  background-color: #e5e5e5;
  border-left: 0.2rem solid #ffb3b3;
}

.tippy-box[data-theme~='error'] .hl.lean .hover-info.messages > code.error {
  background: none;
  border: none;
}

.error .verso-message {
    color: red;
}

.hl.lean .has-info.warning :not(.tactic-state):not(.tactic-state *) {
  text-decoration-color: var(--verso-warning-color);
}

@media (hover: hover) {
  .hl.lean .has-info.warning:hover {
    background-color:var(--verso-warning-color);
  }
}

.hl.lean .hover-info.messages > code.warning {
  background-color: var(--verso-warning-color);
}

.hl.lean .hover-info.messages > code.error {
  background-color: #e5e5e5;
  border-left: 0.2rem solid var(--verso-warning-color);
}

.tippy-box[data-theme~='warning'] .hl.lean .hover-info.messages > code.warning {
  background: none;
  border: none;
}


.hl.lean .has-info.information :not(.tactic-state):not(.tactic-state *) {
  text-decoration-color: blue;
}

@media (hover: hover) {
  .hl.lean .has-info.information:hover {
    background-color: #4777ff;
  }
}


.hl.lean .hover-info.messages > code.info {
  background-color: #e5e5e5;
  border-left: 0.2rem solid #4777ff;
}

.tippy-box[data-theme~='info'] .hl.lean .hover-info.messages > code.info {
  background: none;
  border: none;
}

.hl.lean div.docstring {
  font-family: sans-serif;
  white-space: normal;
  max-width: 40rem;
  width: max-content;
}

.hl.lean div.docstring > :last-child {
  margin-bottom: 0;
}

.hl.lean div.docstring > :first-child {
  margin-top: 0;
}

.hl.lean .hover-info .sep {
  display: block;
  width: auto;
  margin-left: 1rem;
  margin-right: 1rem;
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
  padding: 0;
  height: 1px;
  border-top: 1px solid #ccc;
}

.hl.lean code {
  font-family: var(--verso-code-font-family);
}

.hl.lean .tactic-state {
  display: none;
  position: relative;
  width: fit-content;
  border: 1px solid #888888;
  border-radius: 0.1rem;
  padding: 0.5rem;
  font-family: sans-serif;
  background-color: #ffffff;
}

.hl.lean.popup .tactic-state {
  position: static;
  display: block;
  width: auto;
  border: none;
  padding: 0.5rem;
  font-family: sans-serif;
  background-color: #ffffff;
}


.hl.lean .tactic {
  position: relative;
  display: inline-grid;
  grid-template-columns: 1fr;
  vertical-align: top;
  /* Without these, mobile Safari will start making font sizes inconsistent when its text size adjustment feature is triggered.*/
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

.hl.lean .tactic-toggle:checked ~ .tactic-state {
  display: inline-block;
  vertical-align: top;
  grid-row: 2;
  justify-self: start;
}

.hl.lean .tactic > label {
  position: relative;
  grid-row: 1;
}

@media (hover: hover) {
  .hl.lean .tactic:has(.tactic-toggle:not(:checked)) > label:hover {
    background-color: #eeeeee;
  }
}

.hl.lean .tactic-toggle {
  position: absolute;
  top: 0;
  left: 0;
  opacity: 0;
  height: 0;
  width: 0;
  z-index: -10;
}

.hl.lean .tactic > label::after {
  content: "";
  border: 1px solid #bbbbbb;
  border-radius: 1rem;
  height: 0.25rem;
  vertical-align: middle;
  width: 0.6rem;
  margin-left: 0.1rem;
  margin-right: 0.1rem;
  display: inline-block;
  transition: all 0.5s;
}

/*
@media (hover: hover) {
  .hl.lean .tactic > label:hover::after {
    border: 1px solid #aaaaaa;
    background-color: #aaaaaa;
    transition: all 0.5s;
  }
}
*/

.hl.lean .tactic > label:has(+ .tactic-toggle:checked)::after {
  border: 1px solid #999999;
  background-color: #999999;
  transition: all 0.5s;
}

.hl.lean .tactic-state .goal + .goal {
  margin-top: 1.5rem;
}

.hl.lean .tactic-state summary {
  margin-left: -0.5rem;
}

.hl.lean .tactic-state details {
  padding-left: 0.5rem;
}

.hl.lean .case-label {
  display: block;
  position: relative;
}

.hl.lean .case-label input[type="checkbox"] {
  position: absolute;
  top: 0;
  left: 0;
  opacity: 0;
  height: 0;
  width: 0;
  z-index: -10;
}

.hl.lean .case-label:has(input[type="checkbox"])::before {
  display: inline-block;
  background-color: black;
  content: ' ';
  transition: ease 0.2s;
  margin-right: 0.7em;
  clip-path: polygon(100% 0, 0 0, 50% 100%);
  width: 0.6em;
  height: 0.6em;
  vertical-align: middle;
}

.hl.lean .case-label:has(input[type="checkbox"]:not(:checked))::before {
  transform: rotate(-90deg);
}

.hl.lean .case-label:has(input[type="checkbox"]) {

}

.hl.lean .case-label:has(input[type="checkbox"]:checked) {

}


.hl.lean .labeled-case > :not(:first-child) {
  max-height: 0px;
  display: block;
  overflow: hidden;
  transition: max-height 0.1s ease-in;
  margin-left: 0.5rem;
  margin-top: 0.1rem;
}

.hl.lean .labeled-case:has(.case-label input[type="checkbox"]:checked) > :not(:first-child) {
  max-height: 100%;
}


.hl.lean .goal-name::before {
  font-style: normal;
  content: "case ";
}

.hl.lean .goal-name {
  font-style: italic;
  font-family: var(--verso-code-font-family);
}

.hl.lean .hypotheses {
  display: table;
}

.hl.lean .hypothesis {
  display: table-row;
}

.hl.lean .hypothesis > * {
  display: table-cell;
}


.hl.lean .hypotheses .colon {
  text-align: center;
  min-width: 1rem;
}

.hl.lean .hypotheses .name {
  text-align: right;
}

.hl.lean .hypotheses .name,
.hl.lean .hypotheses .type,
.hl.lean .conclusion .type {
  font-family: var(--verso-code-font-family);
}

.tippy-box[data-theme~='lean'] {
  background-color: #e5e5e5;
  color: black;
  border: 1px solid black;
}
.tippy-box[data-theme~='lean'][data-placement^='top'] > .tippy-arrow::before {
  border-top-color: #e5e5e5;
}
.tippy-box[data-theme~='lean'][data-placement^='bottom'] > .tippy-arrow::before {
  border-bottom-color: #e5e5e5;
}
.tippy-box[data-theme~='lean'][data-placement^='left'] > .tippy-arrow::before {
  border-left-color: #e5e5e5;
}
.tippy-box[data-theme~='lean'][data-placement^='right'] > .tippy-arrow::before {
  border-right-color: #e5e5e5;
}

.tippy-box[data-theme~='message'][data-placement^='top'] > .tippy-arrow::before {
  border-top-color: #e5e5e5;
  border-width: 11px 11px 0;
}
.tippy-box[data-theme~='message'][data-placement^='top'] > .tippy-arrow::after {
  bottom: -11px;
  border-width: 11px 11px 0;
}
.tippy-box[data-theme~='message'][data-placement^='bottom'] > .tippy-arrow::before {
  border-width: 0 11px 11px;
}
.tippy-box[data-theme~='message'][data-placement^='bottom'] > .tippy-arrow::after {
  top: -11px;
  border-width: 0 11px 11px;
}
.tippy-box[data-theme~='message'][data-placement^='left'] > .tippy-arrow::before {
  border-left-color: #e5e5e5;
  border-width: 11px 0 11px 11px;
}
.tippy-box[data-theme~='message'][data-placement^='left'] > .tippy-arrow::after {
  right: -11px;
  border-width: 11px 0 11px 11px;
}

.tippy-box[data-theme~='message'][data-placement^='right'] > .tippy-arrow::before {
  border-right-color: #e5e5e5;
  border-width: 11px 11px 11px 0;
}
.tippy-box[data-theme~='message'][data-placement^='right'] > .tippy-arrow::after {
  left: -11px;
  border-width: 11px 11px 11px 0;
}



.tippy-box[data-theme~='warning'] {
  background-color: #e5e5e5;
  color: black;
  border: 3px solid var(--verso-warning-color);
}

.tippy-box[data-theme~='error'] {
  background-color: #e5e5e5;
  color: black;
  border: 3px solid #f7a7af;
}

.tippy-box[data-theme~='info'] {
  background-color: #e5e5e5;
  color: black;
  border: 3px solid #99b3c2;
}

.tippy-box[data-theme~='tactic'] {
  background-color: white;
  color: black;
  border: 1px solid black;
}
.tippy-box[data-theme~='tactic'][data-placement^='top'] > .tippy-arrow::before {
  border-top-color: white;
}
.tippy-box[data-theme~='tactic'][data-placement^='bottom'] > .tippy-arrow::before {
  border-bottom-color: white;
}
.tippy-box[data-theme~='tactic'][data-placement^='left'] > .tippy-arrow::before {
  border-left-color: white;
}
.tippy-box[data-theme~='tactic'][data-placement^='right'] > .tippy-arrow::before {
  border-right-color: white;
}

.extra-doc-links {
  list-style-type: none;
  margin-left: 0;
  padding: 0;
}

.extra-doc-links > li {
  display: inline-block;
}

.extra-doc-links > li:not(:last-child)::after {
  content: '|';
  display: inline-block;
  margin: 0 0.25em;
}

.verso-message .trace > summary::marker {
  color: var(--verso-text-color);
}

.verso-message .trace-children {
  margin: 0;
  padding: 0;
}

.verso-message .trace-children > li {
  list-style-type: none;
  margin-left: 1.5em;
}

.verso-message .trace-children > li:not(:has(.trace)) {
  margin-left: 0;
}

.verso-message .trace-class {
  color: color-mix(in srgb, currentColor 70%, transparent);
  font-weight: bold;
  margin: 0;
  padding: 0;
}

.verso-message .text {
  white-space: pre-wrap;
}

</style><script>
      
window.onload = () => {

    // Don't show hovers inside of closed tactic states
    function blockedByTactic(elem) {
      let parent = elem.parentNode;
      while (parent && "classList" in parent) {
        if (parent.classList.contains("tactic")) {
          const toggle = parent.querySelector("input.tactic-toggle");
          if (toggle) {
            return !toggle.checked;
          }
        }
        parent = parent.parentNode;
      }
      return false;
    }

    function blockedByTippy(elem) {
      // Don't show a new hover until the old ones are all closed.
      // Scoped to the nearest "top-level block" to avoid being O(n) in the size of the document.
      var block = elem;
      const topLevel = new Set(["section", "body", "html", "nav", "header"]);
      while (block.parentNode && !topLevel.has(block.parentNode.nodeName.toLowerCase())) {
        block = block.parentNode;
      }
      for (const child of block.querySelectorAll(".token, .has-info")) {
        if (child._tippy && child._tippy.state.isVisible) { return true };
      }
      return false;
    }

    for (const c of document.querySelectorAll(".hl.lean .token")) {
        if (c.dataset.binding != "") {
            c.addEventListener("mouseover", (event) => {
                if (blockedByTactic(c)) {return;}
                const context = c.closest(".hl.lean").dataset.leanContext;
                for (const example of document.querySelectorAll(".hl.lean")) {
                    if (example.dataset.leanContext == context) {
                        for (const tok of example.querySelectorAll(".token")) {
                            if (c.dataset.binding == tok.dataset.binding) {
                                tok.classList.add("binding-hl");
                            }
                        }
                    }
                }
            });
        }
        c.addEventListener("mouseout", (event) => {
            for (const tok of document.querySelectorAll(".hl.lean .token")) {
                tok.classList.remove("binding-hl");
            }
        });
    }
    /* Render docstrings */
    if ('undefined' !== typeof marked) {
        for (const d of document.querySelectorAll("code.docstring, pre.docstring")) {
            const str = d.innerText;
            const html = marked.parse(str);
            const rendered = document.createElement("div");
            rendered.classList.add("docstring");
            rendered.innerHTML = html;
            d.parentNode.replaceChild(rendered, d);
        }
    }
    // Add hovers
    let siteRoot = typeof __versoSiteRoot !== 'undefined' ? __versoSiteRoot : "/";
    let docsJson = siteRoot + "-verso-docs.json";
    fetch(docsJson).then((resp) => resp.json()).then((versoDocData) => {

      function hideParentTooltips(element) {
        let parent = element.parentElement;
        while (parent) {
          const tippyInstance = parent._tippy;
          if (tippyInstance) {
            tippyInstance.hide();
          }
          parent = parent.parentElement;
        }
      }



      const defaultTippyProps = {
        /* DEBUG -- remove the space: * /
        onHide(any) { return false; },
        trigger: "click",
        // */
        /* theme: "lean", */
        maxWidth: "none",
        appendTo: () => document.body,
        interactive: true,
        delay: [100, null],
        /* ignoreAttributes: true, */
        followCursor: 'initial',
        onShow(inst) {
          if (inst.reference.className == 'tactic') {

            const toggle = inst.reference.querySelector("input.tactic-toggle");
            if (toggle && toggle.checked) {
              return false;
            }
            hideParentTooltips(inst.reference);
            //if (blockedByTippy(inst.reference)) { return false; }

          } else if (inst.reference.querySelector(".hover-info") || "versoHover" in inst.reference.dataset) {
            if (blockedByTactic(inst.reference)) { return false };
            if (blockedByTippy(inst.reference)) { return false; }
          } else { // Nothing to show here!
            return false;
          }
        },
        content (tgt) {
          const content = document.createElement("span");
          if (tgt.className == 'tactic') {
            const state = tgt.querySelector(".tactic-state").cloneNode(true);
            state.style.display = "block";
            content.appendChild(state);
            content.style.display = "block";
            content.className = "hl lean popup";
          } else {
            content.className = "hl lean";
            content.style.display = "block";
            content.style.maxHeight = "300px";
            content.style.overflowY = "auto";
            content.style.overflowX = "hidden";
            const hoverId = tgt.dataset.versoHover;
            const hoverInfo = tgt.querySelector(".hover-info");
            if (hoverId) { // Docstrings from the table
              // TODO stop doing an implicit conversion from string to number here
              let data = versoDocData[hoverId];
              if (data) {
                const info = document.createElement("span");
                info.className = "hover-info";
                info.style.display = "block";
                info.innerHTML = data;
                content.appendChild(info);
                /* Render docstrings - TODO server-side */
                if ('undefined' !== typeof marked) {
                    for (const d of content.querySelectorAll("code.docstring, pre.docstring")) {
                        const str = d.innerText;
                        const html = marked.parse(str);
                        const rendered = document.createElement("div");
                        rendered.classList.add("docstring");
                        rendered.innerHTML = html;
                        d.parentNode.replaceChild(rendered, d);
                    }
                }
              } else {
                content.innerHTML = "Failed to load doc ID: " + hoverId;
              }
            } else if (hoverInfo) { // The inline info, still used for compiler messages
              content.appendChild(hoverInfo.cloneNode(true));
            }
            const extraLinks = tgt.parentElement.dataset['versoLinks'];
            if (extraLinks) {
              try {
                const extras = JSON.parse(extraLinks);
                const links = document.createElement('ul');
                links.className = 'extra-doc-links';
                extras.forEach((l) => {
                  const li = document.createElement('li');
                  li.innerHTML = "<a href=\"" + l['href'] + "\" title=\"" + l.long + "\">" + l.short + "</a>";
                  links.appendChild(li);
                });
                content.appendChild(links);
              } catch (error) {
                console.error(error);
              }
            }
          }
          return content;
        }
      };


      document.querySelectorAll('.hl.lean .const.token, .hl.lean .keyword.token, .hl.lean .literal.token, .hl.lean .option.token, .hl.lean .var.token, .hl.lean .typed.token, .hl.lean .level-var, .hl.lean .level-const, .hl.lean .level-op, .hl.lean .sort').forEach(element => {
        element.setAttribute('data-tippy-theme', 'lean');
      });
      document.querySelectorAll('.hl.lean .has-info.warning').forEach(element => {
        element.setAttribute('data-tippy-theme', 'warning message');
      });
      document.querySelectorAll('.hl.lean .has-info.information').forEach(element => {
        element.setAttribute('data-tippy-theme', 'info message');
      });
      document.querySelectorAll('.hl.lean .has-info.error').forEach(element => {
        element.setAttribute('data-tippy-theme', 'error message');
      });
      document.querySelectorAll('.hl.lean .tactic').forEach(element => {
        element.setAttribute('data-tippy-theme', 'tactic');
      });
      let insts = tippy('.hl.lean .const.token, .hl.lean .keyword.token, .hl.lean .literal.token, .hl.lean .option.token, .hl.lean .var.token, .hl.lean .typed.token, .hl.lean .has-info, .hl.lean .tactic, .hl.lean .level-var, .hl.lean .level-const, .hl.lean .level-op, .hl.lean .sort', defaultTippyProps);
  });
}
</script>
    <script src="-verso-search/search-highlight.js" defer="defer"></script>
    </head>
  <body>
    <header>
      <div class="header-logo-wrapper"></div>
      <div class="header-title-wrapper">
        <a href="" class="header-title"><h1>
            PSBP Documentation</h1>
          </a></div>
      </header>
    <label for="toggle-toc" id="toggle-toc-click"><span class="line line1"></span><span class="line line2"></span><span class="line line3"></span></label><div class="with-toc">
      <div class="toc-backdrop" onclick="document.getElementById('toggle-toc-click')?.click()"></div>
      <nav id="toc">
        <input type="checkbox" id="toggle-toc"><div class="first">
          <a href="" class="toc-title"><h1>
              PSBP Documentation</h1>
            </a><div class="split-tocs">
            <div class="split-toc book">
              <div class="title">
                <label for="--verso-manual-toc-----bookRoot" class="toggle-split-toc"><input type="checkbox" class="toggle-split-toc" id="--verso-manual-toc-----bookRoot" checked="checked"></label><span class="">Table of Contents</span></div>
              <table><tr class="numbered"><td class="num"></td><td><a href="#PSBP-Documentation--Warning">Warning</a></td></tr><tr class="numbered"><td class="num"></td><td><a href="#PSBP-Documentation--Introduction">Introduction</a></td></tr><tr class="numbered"><td class="num"></td><td><a href="#PSBP-Documentation--The--PSBP--Library-type-classes">The <code>PSBP</code> Library type classes</a></td></tr><tr class="numbered"><td class="num"></td><td><a href="#PSBP-Documentation--fibonacci--and--factorial"><code>fibonacci</code> and <code>factorial</code></a></td></tr><tr class="numbered"><td class="num"></td><td><a href="#PSBP-Documentation--What-about--Functorial-___">What about <code>Functorial</code>?</a></td></tr><tr class="numbered"><td class="num"></td><td><a href="#PSBP-Documentation--Computation-Valued-Functions">Computation Valued Functions</a></td></tr><tr class="numbered"><td class="num"></td><td><a href="#PSBP-Documentation--ActiveProgram"><code>ActiveProgram</code></a></td></tr><tr class="numbered"><td class="num"></td><td><a href="#PSBP-Documentation--ReactiveProgram"><code>ReactiveProgram</code></a></td></tr><tr class="numbered"><td class="num"></td><td><a href="#PSBP-Documentation--Positional-Programming">Positional Programming</a></td></tr><tr class="numbered"><td class="num"></td><td><a href="#PSBP-Documentation--Stateful-Programming">Stateful Programming</a></td></tr></table></div>
            </div>
          </div>
        <div class="last"></div>
        </nav>
      <main><div class="content-wrapper">
          <section>
            <div class="titlepage">
              <h1>
                PSBP Documentation</h1>
              <div class="authors">
                <span class="author">Luc Duponcheel</span></div>
              </div>
            <section>
              <h2>
                Table of Contents</h2>
              <ol class="section-toc">
                <li>
                  <a href=""><span class="number">1.</span> Warning</a></li>
                <li>
                  <a href=""><span class="number">2.</span> Introduction</a></li>
                <li>
                  <a href=""><span class="number">3.</span> The <code>PSBP</code> Library type classes</a></li>
                <li>
                  <a href=""><span class="number">4.</span> <code>fibonacci</code> and <code>factorial</code></a></li>
                <li>
                  <a href=""><span class="number">5.</span> What about <code>Functorial</code>?</a></li>
                <li>
                  <a href=""><span class="number">6.</span> Computation Valued Functions</a></li>
                <li>
                  <a href=""><span class="number">7.</span> <code>ActiveProgram</code></a></li>
                <li>
                  <a href=""><span class="number">8.</span> <code>ReactiveProgram</code></a></li>
                <li>
                  <a href=""><span class="number">9.</span> Positional Programming</a></li>
                <li>
                  <a href=""><span class="number">10.</span> Stateful Programming</a></li>
                </ol>
              </section>
            <section>
              <h2 id="PSBP-Documentation--Warning">
                1. Warning</h2>
              <p>
                This is work in progress.</p>
              <p>
                The book and it's code is far from complete and may change.</p>
              <p>
                For now I do not use the universe capabilities of <code>Lean</code>.</p>
              <p>
                I (try to) format code is a consistent way.</p>
              </section>
            <section>
              <h2 id="PSBP-Documentation--Introduction">
                2. Introduction</h2>
              <p>
                Lean defines type classes <code>Functor</code>, <code>Applicative</code> and <code>Monad</code>. They specify computation capabilities. Think of
computations as effectful expressions. They are operational artifacts. They do not really have a meaning in the
mathematical sense. Functions, on the other hand, are denotational artifacts. They do have a meaning in the mathematical
sense.</p>
              <p>
                This document refers to effectful function as programs. So how to specify programs? That is what the <code>PSBP</code> library is
all about. <code>PSPB</code> stands for "Program Specification Based Programming". <code>PSBP</code> is a library that allows you to specify
programs, and then materialize them according to specific instances of the type classes in terms of which they are
specified. <code>PSBP</code> can be seen as a library level programming language. In what follows we will, by abuse of language,
often write "program" instead of "program specification" or "program (specification) materialization". Hopefully this
will not lead to confusion.</p>
              <p>
                Just like expressions are evaluated to yield a result value, computations are executed to a result value, but, they may
executing them may also perform side effects along the way. Just like functions, programs, by running them,transform
argument values to result values, but, they may perform side effects along the way.</p>
              <p>
                Why programming in terms of program specifications instead of in terms of computations? Both programs and computations
form a component system. The difference is that programs are closed components, while computations are open components.
Programming with programs is pointfree programming while programming with computations is pointful programming.</p>
              <p>
                In my opinion, it is a more elegant to program pointfree than to program pointful. Likewise, in my opinion, it is more
elegant to reason in terms of pointffree laws than to reason in terms of with pointful laws. Of course, this is all a
matter of taste. I hope to convince you that pointfree is more elegant than pointful.</p>
              <p>
                By the way, it is alse possible, and sometimes necessary, to program positional using <code>PSBP</code>. Positional programming is
similar to pointful programming. It is is useful for writing recipe-like programs, where, starting from an initial
value, intermediate values are constructed, and. together with the initial value, are passed to the next step, until a
final value is produced. The initial value and intermediate values are accessed positionally. More about this later.</p>
              </section>
            <section>
              <h2 id="PSBP-Documentation--The--PSBP--Library-type-classes">
                3. The <code>PSBP</code> Library type classes</h2>
              <section>
                <h3 id="PSBP-Documentation--The--PSBP--Library-type-classes--class-Functional">
                  3.1. <code>class Functional</code></h3>
                <p>
                  Functions can, somehow, be used as programs. Well, functions are what pure functional programming is all about.
Functions that are used as programs are effectless. We can define functions as programs in a formal way by defining a
type class. This is what we do with the <code>Functional</code> type class.</p>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.classTk-3276">class</span><span class="inter-text"> </span><span class="const token" data-binding="const-Functional" data-verso-hover="0" id="Functional">Functional</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-3328">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Functional.asProgram" data-verso-hover="3" id="Functional___asProgram">asProgram</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.14" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.14" data-verso-hover="4">β</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.14" data-verso-hover="4">β</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.export-3398" data-verso-hover="5">export</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Functional</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="#Functional___asProgram" title="Definition of example"><span class="const token" data-binding="const-Functional.asProgram" data-verso-hover="3">asProgram</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><p>
                  A program, just like a function, transforms an initial value, its argument, to a final one, its result. By the way, a
value can repesent many values as a (nested) product. Such a value is called a multi-value. More about this later.</p>
                </section>
              <section>
                <h3 id="PSBP-Documentation--The--PSBP--Library-type-classes--class-Functorial">
                  3.2. <code>class Functorial</code></h3>
                <p>
                  Functions can act upon programs. They do that in an effectfree way. We can define functions acting upon programs in a
formal way by defining a type class. This is what we do with the <code>Functorial</code> type class.</p>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.classTk-3912">class</span><span class="inter-text"> </span><span class="const token" data-binding="const-Functorial" data-verso-hover="6" id="Functorial">Functorial</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-3964">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Functorial.andThenF" data-verso-hover="7" id="Functorial___andThenF">andThenF</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.14" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.16" data-verso-hover="4">γ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
    </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.14" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.14" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.16" data-verso-hover="4">γ</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.16" data-verso-hover="4">γ</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.export-4054" data-verso-hover="5">export</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Functorial</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="#Functorial___andThenF" title="Definition of example"><span class="const token" data-binding="const-Functorial.andThenF" data-verso-hover="7">andThenF</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.infixl-4084">infixl</span><span class="unknown token" data-binding="">:</span><span class="unknown token" data-binding="">50</span><span class="inter-text"> </span><span class="literal string token" data-binding="" data-verso-hover="8">" &gt;-&gt; "</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><a href="#Functorial___andThenF" title="Definition of example"><span class="const token" data-binding="const-Functorial.andThenF" data-verso-hover="7">andThenF</span></a><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><p>
                  <code>andThenF</code> also has infix notation <code>&gt;-&gt;</code>.</p>
                <p>
                  We have, and will continue to, use suffux <code>F</code> to distinguish functions from corresponding programs.</p>
                </section>
              <section>
                <h3 id="PSBP-Documentation--The--PSBP--Library-type-classes--class-Creational">
                  3.3. <code>class Creational</code></h3>
                <p>
                  Programs can produce product values. Their effects are accumulated from left to right. We can define programs that
produce product values in a formal way by defining a type class. This is what we do with the <code>Creational</code> type class.</p>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.classTk-4533">class</span><span class="inter-text"> </span><span class="const token" data-binding="const-Creational" data-verso-hover="9" id="Creational">Creational</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-4585">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Creational.product" data-verso-hover="10" id="Creational___product">product</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.14" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.16" data-verso-hover="4">γ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
    </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.14" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.16" data-verso-hover="4">γ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.14" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.16" data-verso-hover="4">γ</span><span class="unknown token" data-binding="">)</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.export-4684" data-verso-hover="5">export</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Creational</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="#Creational___product" title="Definition of example"><span class="const token" data-binding="const-Creational.product" data-verso-hover="10">product</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.infixl-4713">infixl</span><span class="unknown token" data-binding="">:</span><span class="unknown token" data-binding="">60</span><span class="inter-text"> </span><span class="literal string token" data-binding="" data-verso-hover="11">" &&& "</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><a href="#Creational___product" title="Definition of example"><span class="const token" data-binding="const-Creational.product" data-verso-hover="10">product</span></a><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><p>
                  <code>product</code> also has infix notation <code>&&&</code>.</p>
                <p>
                  Nested product values are called multi-values.</p>
                </section>
              <section>
                <h3 id="PSBP-Documentation--The--PSBP--Library-type-classes--class-Sequential">
                  3.4. <code>class Sequential</code></h3>
                <p>
                  Programs can be sequentially composed. Their effects are accumulated from left to right. Sequentially composing programs
can be seen as a second program acting upon a first program. The difference with <code>Functorial</code> is that the second program
may be effectful. Effects of the second program can depend on the final value of the first program. We can define
programs that are sequentially composed in a formal way by defining a type class. This is what we do with the
<code>Sequential</code> type class.</p>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.classTk-5365">class</span><span class="inter-text"> </span><span class="const token" data-binding="const-Sequential" data-verso-hover="12" id="Sequential">Sequential</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-5417">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Sequential.andThen" data-verso-hover="13" id="Sequential___andThen">andThen</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.14" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.16" data-verso-hover="4">γ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
    </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.14" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.14" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.16" data-verso-hover="4">γ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.16" data-verso-hover="4">γ</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.export-5508" data-verso-hover="5">export</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Sequential</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="#Sequential___andThen" title="Definition of example"><span class="const token" data-binding="const-Sequential.andThen" data-verso-hover="13">andThen</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.infixl-5537">infixl</span><span class="unknown token" data-binding="">:</span><span class="unknown token" data-binding="">50</span><span class="inter-text"> </span><span class="literal string token" data-binding="" data-verso-hover="14">" &gt;=&gt; "</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><a href="#Sequential___andThen" title="Definition of example"><span class="const token" data-binding="const-Sequential.andThen" data-verso-hover="13">andThen</span></a><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><p>
                  <code>andThen</code> also has infix notation <code>&gt;=&gt;</code>.</p>
                </section>
              <section>
                <h3 id="PSBP-Documentation--The--PSBP--Library-type-classes--class-Conditional">
                  3.5. <code>class Conditional</code></h3>
                <p>
                  Programs can consume sum values. Only the effect of left or right one is performed.</p>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.classTk-5735">class</span><span class="inter-text"> </span><span class="const token" data-binding="const-Conditional" data-verso-hover="15" id="Conditional">Conditional</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-5788">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Conditional.sum" data-verso-hover="16" id="Conditional___sum">sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.14" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.16" data-verso-hover="4">γ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
    </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.16" data-verso-hover="4">γ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.14" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.16" data-verso-hover="4">γ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">⊕</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.14" data-verso-hover="4">β</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="4">α</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.export-5884" data-verso-hover="5">export</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Conditional</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="#Conditional___sum" title="Definition of example"><span class="const token" data-binding="const-Conditional.sum" data-verso-hover="16">sum</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.infixl-5910">infixl</span><span class="unknown token" data-binding="">:</span><span class="unknown token" data-binding="">55</span><span class="inter-text"> </span><span class="literal string token" data-binding="" data-verso-hover="17">" ||| "</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><a href="#Conditional___sum" title="Definition of example"><span class="const token" data-binding="const-Conditional.sum" data-verso-hover="16">sum</span></a><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><p>
                  <code>sum</code> also has infix notation <code>|||</code>.</p>
                </section>
              <section>
                <h3 id="PSBP-Documentation--The--PSBP--Library-type-classes--Capability-combinations">
                  3.6. Capability combinations</h3>
                <p>
                  The idea behind writing programs in terms of the type classes like the ones defined so far is to use exactly those
capabilities that are really needed to write the programs. Some combinations of type classes are more expressive than
other combinations. This implies that what you can do with them is more than what you can do the less expressive ones.
But this comes with a price. They are less flexible as far as implementation and corresponding materialization is
concerned than the less expressive ones.</p>
                </section>
              <section>
                <h3 id="PSBP-Documentation--The--PSBP--Library-type-classes--Programs-and-program-combinators-defined-in-terms-of-the-basic-ones">
                  3.7. Programs and program combinators defined in terms of the basic ones</h3>
                <section>
                  <h4 id="PSBP-Documentation--The--PSBP--Library-type-classes--Programs-and-program-combinators-defined-in-terms-of-the-basic-ones--def-identity">
                    3.7.1. <code>def identity</code></h4>
                  <p>
                    Below is a simple, but extremely useful function as a program, the <code>identity</code> program.</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-6708">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-identity" data-verso-hover="18" id="identity">identity</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#Functional___asProgram" title="Definition of example"><span class="const token" data-binding="const-Functional.asProgram" data-verso-hover="3">asProgram</span></a><span class="inter-text"> </span><span class="const token" data-binding="const-id" data-verso-hover="19">id</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code></section>
                <section>
                  <h4 id="PSBP-Documentation--The--PSBP--Library-type-classes--Programs-and-program-combinators-defined-in-terms-of-the-basic-ones--def-let_">
                    3.7.2. <code>def let_</code></h4>
                  <p>
                    Using the <code>let_</code> combinator an intermediate value can be constructed that is available for later use.</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-6921">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-let_" data-verso-hover="20" id="let_">let_</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Sequential" title="Definition of example"><span class="const token" data-binding="const-Sequential" data-verso-hover="12">Sequential</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Creational" title="Definition of example"><span class="const token" data-binding="const-Creational" data-verso-hover="9">Creational</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.21" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36" data-verso-hover="4">β</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.55" data-verso-hover="4">γ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.21" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.55" data-verso-hover="4">γ</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.92" data-verso-hover="21">αpβ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.95" data-verso-hover="22">αaβpγ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><a href="#identity" title="Definition of example"><span class="const token" data-binding="const-identity" data-verso-hover="18">identity</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">&&&</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.92" data-verso-hover="21">αpβ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">&gt;=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.95" data-verso-hover="22">αaβpγ</span><span class="inter-text">

 </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-7131">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-in_" data-verso-hover="23" id="in_">in_</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1102" data-verso-hover="24">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1102" data-verso-hover="24">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="const token" data-binding="const-id" data-verso-hover="19">id</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><p>
                    The <code>p</code> in <code>αpβ</code> and <code>αaβpγ</code> stands for "program", and that the <code>a</code> in <code>αaβpγ</code> stands for "and". Think of <code>let_</code> as a
library level keyword. <code>in_</code> is also a library level keyword that, depending on your taste, may make programs more
readable.</p>
                  </section>
                <section>
                  <h4 id="PSBP-Documentation--The--PSBP--Library-type-classes--Programs-and-program-combinators-defined-in-terms-of-the-basic-ones--def-if_">
                    3.7.3. <code>def if_</code></h4>
                  <p>
                    Using the <code>if_</code> combinator conditional boolean logic can be expressed. A helper function and corresponding program is
needed to define it.</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-7582">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-trueToLeftFalseToRightF" data-verso-hover="25" id="trueToLeftFalseToRightF">trueToLeftFalseToRightF</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.7" data-verso-hover="26">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="const token" data-binding="const-Bool" data-verso-hover="27">Bool</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.7" data-verso-hover="26">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">⊕</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.7" data-verso-hover="26">α</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="unknown token" data-binding="">⟨</span><span class="var token" data-binding="var-_uniq.40" data-verso-hover="28">α</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="const token" data-binding="const-Bool.true" data-verso-hover="29">true</span><span class="unknown token" data-binding="">⟩</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="const token" data-binding="const-Sum.inl" data-verso-hover="30">.inl</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.40" data-verso-hover="28">α</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="unknown token" data-binding="">⟨</span><span class="var token" data-binding="var-_uniq.63" data-verso-hover="28">α</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="const token" data-binding="const-Bool.false" data-verso-hover="31">false</span><span class="unknown token" data-binding="">⟩</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="const token" data-binding="const-Sum.inr" data-verso-hover="32">.inr</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.63" data-verso-hover="28">α</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-7699">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-trueToLeftFalseToRight" data-verso-hover="33" id="trueToLeftFalseToRight">trueToLeftFalseToRight</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.237" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.237" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.247" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="const token" data-binding="const-Bool" data-verso-hover="27">Bool</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.247" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">⊕</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.247" data-verso-hover="4">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#Functional___asProgram" title="Definition of example"><span class="const token" data-binding="const-Functional.asProgram" data-verso-hover="3">asProgram</span></a><span class="inter-text"> </span><a href="#trueToLeftFalseToRightF" title="Definition of example"><span class="const token" data-binding="const-trueToLeftFalseToRightF" data-verso-hover="25">trueToLeftFalseToRightF</span></a><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-7830">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-if_" data-verso-hover="34" id="if_">if_</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.367" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Sequential" title="Definition of example"><span class="const token" data-binding="const-Sequential" data-verso-hover="12">Sequential</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.367" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Creational" title="Definition of example"><span class="const token" data-binding="const-Creational" data-verso-hover="9">Creational</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.367" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Conditional" title="Definition of example"><span class="const token" data-binding="const-Conditional" data-verso-hover="15">Conditional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.367" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.367" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.388" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="const token" data-binding="const-Bool" data-verso-hover="27">Bool</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.367" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.388" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.409" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.367" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.388" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.409" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.367" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.388" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.409" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.451" data-verso-hover="35">αpb</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.454" data-verso-hover="21">t_apβ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.457" data-verso-hover="21">f_apβ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text">
      </span><a href="#let_" title="Definition of example"><span class="const token" data-binding="const-let_" data-verso-hover="20">let_</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.451" data-verso-hover="35">αpb</span><span class="inter-text"> </span><span class="unknown token" data-binding="">$</span><span class="inter-text">
        </span><a href="#in_" title="Definition of example"><span class="const token" data-binding="const-in_" data-verso-hover="23">in_</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">$</span><span class="inter-text">
          </span><a href="#trueToLeftFalseToRight" title="Definition of example"><span class="const token" data-binding="const-trueToLeftFalseToRight" data-verso-hover="33">trueToLeftFalseToRight</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">&gt;=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.454" data-verso-hover="21">t_apβ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">|||</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.457" data-verso-hover="21">f_apβ</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-8139">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-else_" data-verso-hover="36" id="else_">else_</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.1536" data-verso-hover="24">α</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1536" data-verso-hover="24">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1536" data-verso-hover="24">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="const token" data-binding="const-id" data-verso-hover="19">id</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><p>
                    The <code>b</code> in <code>αpb</code> stands for <code>Bool</code>.</p>
                  </section>
                </section>
              </section>
            <section>
              <h2 id="PSBP-Documentation--fibonacci--and--factorial">
                4. <code>fibonacci</code> and <code>factorial</code></h2>
              <p>
                It turns out that we ready now for defining <code>fibonacci</code> and <code>factorial</code>.</p>
              <p>
                For readability and reusability reasons it is useful to first define some primitive functions</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-8428">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-isZeroF" data-verso-hover="37" id="isZeroF">isZeroF</span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="const token" data-binding="const-Bool" data-verso-hover="27">Bool</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.7" data-verso-hover="39">ν</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.7" data-verso-hover="39">ν</span><span class="inter-text"> </span><span class="unknown token" data-binding="">==</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="39">0</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-8477">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-isOneF" data-verso-hover="40" id="isOneF">isOneF</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="const token" data-binding="const-Bool" data-verso-hover="27">Bool</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.93" data-verso-hover="39">ν</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.93" data-verso-hover="39">ν</span><span class="inter-text"> </span><span class="unknown token" data-binding="">==</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="39">1</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-8526">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-oneF" data-verso-hover="41" id="oneF">oneF</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="39">1</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-8565">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-minusOneF" data-verso-hover="42" id="minusOneF">minusOneF</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.207" data-verso-hover="39">ν</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.207" data-verso-hover="39">ν</span><span class="inter-text"> </span><span class="unknown token" data-binding="">-</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="39">1</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-8615">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-minusTwoF" data-verso-hover="43" id="minusTwoF">minusTwoF</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.323" data-verso-hover="39">ν</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.323" data-verso-hover="39">ν</span><span class="inter-text"> </span><span class="unknown token" data-binding="">-</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="39">2</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-8665">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-addF" data-verso-hover="44" id="addF">addF</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">⟨</span><span class="var token" data-binding="var-_uniq.449" data-verso-hover="39">ν</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.450" data-verso-hover="39">μ</span><span class="unknown token" data-binding="">⟩</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.449" data-verso-hover="39">ν</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.450" data-verso-hover="39">μ</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-8728">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-multiplyF" data-verso-hover="45" id="multiplyF">multiplyF</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">⟨</span><span class="var token" data-binding="var-_uniq.653" data-verso-hover="39">ν</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.654" data-verso-hover="39">μ</span><span class="unknown token" data-binding="">⟩</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.653" data-verso-hover="39">ν</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.654" data-verso-hover="39">μ</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><p>
                and corresponding primitive programs</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-8851">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-isZero" data-verso-hover="46" id="isZero">isZero</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="const token" data-binding="const-Bool" data-verso-hover="27">Bool</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#Functional___asProgram" title="Definition of example"><span class="const token" data-binding="const-Functional.asProgram" data-verso-hover="3">asProgram</span></a><span class="inter-text"> </span><a href="#isZeroF" title="Definition of example"><span class="const token" data-binding="const-isZeroF" data-verso-hover="37">isZeroF</span></a><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-8930">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-isOne" data-verso-hover="47" id="isOne">isOne</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.98" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.98" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="const token" data-binding="const-Bool" data-verso-hover="27">Bool</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#Functional___asProgram" title="Definition of example"><span class="const token" data-binding="const-Functional.asProgram" data-verso-hover="3">asProgram</span></a><span class="inter-text"> </span><a href="#isOneF" title="Definition of example"><span class="const token" data-binding="const-isOneF" data-verso-hover="40">isOneF</span></a><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-9007">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-one" data-verso-hover="48" id="one">one</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.192" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.192" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#Functional___asProgram" title="Definition of example"><span class="const token" data-binding="const-Functional.asProgram" data-verso-hover="3">asProgram</span></a><span class="inter-text"> </span><a href="#oneF" title="Definition of example"><span class="const token" data-binding="const-oneF" data-verso-hover="41">oneF</span></a><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-9079">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-minusOne" data-verso-hover="49" id="minusOne">minusOne</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.286" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.286" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#Functional___asProgram" title="Definition of example"><span class="const token" data-binding="const-Functional.asProgram" data-verso-hover="3">asProgram</span></a><span class="inter-text"> </span><a href="#minusOneF" title="Definition of example"><span class="const token" data-binding="const-minusOneF" data-verso-hover="42">minusOneF</span></a><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-9161">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-minusTwo" data-verso-hover="50" id="minusTwo">minusTwo</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.380" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.380" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#Functional___asProgram" title="Definition of example"><span class="const token" data-binding="const-Functional.asProgram" data-verso-hover="3">asProgram</span></a><span class="inter-text"> </span><a href="#minusTwoF" title="Definition of example"><span class="const token" data-binding="const-minusTwoF" data-verso-hover="43">minusTwoF</span></a><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-9243">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-add" data-verso-hover="51" id="add">add</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.474" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.474" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#Functional___asProgram" title="Definition of example"><span class="const token" data-binding="const-Functional.asProgram" data-verso-hover="3">asProgram</span></a><span class="inter-text"> </span><a href="#addF" title="Definition of example"><span class="const token" data-binding="const-addF" data-verso-hover="44">addF</span></a><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-9324">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-multiply" data-verso-hover="52" id="multiply">multiply</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.570" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.570" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#Functional___asProgram" title="Definition of example"><span class="const token" data-binding="const-Functional.asProgram" data-verso-hover="3">asProgram</span></a><span class="inter-text"> </span><a href="#multiplyF" title="Definition of example"><span class="const token" data-binding="const-multiplyF" data-verso-hover="45">multiplyF</span></a><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><p>
                Program <code>fibonacci</code> is defined as follows</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.unsafe-9475">unsafe</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-9482">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-fibonacci" data-verso-hover="53" id="fibonacci">fibonacci</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Creational" title="Definition of example"><span class="const token" data-binding="const-Creational" data-verso-hover="9">Creational</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Sequential" title="Definition of example"><span class="const token" data-binding="const-Sequential" data-verso-hover="12">Sequential</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Conditional" title="Definition of example"><span class="const token" data-binding="const-Conditional" data-verso-hover="15">Conditional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#if_" title="Definition of example"><span class="const token" data-binding="const-if_" data-verso-hover="34">if_</span></a><span class="inter-text"> </span><a href="#isZero" title="Definition of example"><span class="const token" data-binding="const-isZero" data-verso-hover="46">isZero</span></a><span class="inter-text"> </span><a href="#one" title="Definition of example"><span class="const token" data-binding="const-one" data-verso-hover="48">one</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">$</span><span class="inter-text">
      </span><a href="#else_" title="Definition of example"><span class="const token" data-binding="const-else_" data-verso-hover="36">else_</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">$</span><span class="inter-text">
        </span><a href="#if_" title="Definition of example"><span class="const token" data-binding="const-if_" data-verso-hover="34">if_</span></a><span class="inter-text"> </span><a href="#isOne" title="Definition of example"><span class="const token" data-binding="const-isOne" data-verso-hover="47">isOne</span></a><span class="inter-text"> </span><a href="#one" title="Definition of example"><span class="const token" data-binding="const-one" data-verso-hover="48">one</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">$</span><span class="inter-text">
          </span><a href="#else_" title="Definition of example"><span class="const token" data-binding="const-else_" data-verso-hover="36">else_</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">$</span><span class="inter-text">
            </span><span class="unknown token" data-binding="">(</span><a href="#minusOne" title="Definition of example"><span class="const token" data-binding="const-minusOne" data-verso-hover="49">minusOne</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">&gt;=&gt;</span><span class="inter-text"> </span><a href="#fibonacci" title="Definition of example"><span class="const token" data-binding="const-fibonacci" data-verso-hover="53">fibonacci</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">&&&</span><span class="inter-text">
            </span><span class="unknown token" data-binding="">(</span><a href="#minusTwo" title="Definition of example"><span class="const token" data-binding="const-minusTwo" data-verso-hover="50">minusTwo</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">&gt;=&gt;</span><span class="inter-text"> </span><a href="#fibonacci" title="Definition of example"><span class="const token" data-binding="const-fibonacci" data-verso-hover="53">fibonacci</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">&gt;=&gt;</span><span class="inter-text">
            </span><a href="#add" title="Definition of example"><span class="const token" data-binding="const-add" data-verso-hover="51">add</span></a><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><p>
                Program <code>factorial</code> is defined as follows</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.unsafe-9856">unsafe</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-9863">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-factorial" data-verso-hover="54" id="factorial">factorial</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Creational" title="Definition of example"><span class="const token" data-binding="const-Creational" data-verso-hover="9">Creational</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Sequential" title="Definition of example"><span class="const token" data-binding="const-Sequential" data-verso-hover="12">Sequential</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Conditional" title="Definition of example"><span class="const token" data-binding="const-Conditional" data-verso-hover="15">Conditional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#if_" title="Definition of example"><span class="const token" data-binding="const-if_" data-verso-hover="34">if_</span></a><span class="inter-text"> </span><a href="#isZero" title="Definition of example"><span class="const token" data-binding="const-isZero" data-verso-hover="46">isZero</span></a><span class="inter-text"> </span><a href="#one" title="Definition of example"><span class="const token" data-binding="const-one" data-verso-hover="48">one</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">$</span><span class="inter-text">
      </span><a href="#else_" title="Definition of example"><span class="const token" data-binding="const-else_" data-verso-hover="36">else_</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">$</span><span class="inter-text">
        </span><a href="#let_" title="Definition of example"><span class="const token" data-binding="const-let_" data-verso-hover="20">let_</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="#minusOne" title="Definition of example"><span class="const token" data-binding="const-minusOne" data-verso-hover="49">minusOne</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">&gt;=&gt;</span><span class="inter-text"> </span><a href="#factorial" title="Definition of example"><span class="const token" data-binding="const-factorial" data-verso-hover="54">factorial</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">$</span><span class="inter-text">
          </span><a href="#in_" title="Definition of example"><span class="const token" data-binding="const-in_" data-verso-hover="23">in_</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">$</span><span class="inter-text">
            </span><a href="#multiply" title="Definition of example"><span class="const token" data-binding="const-multiply" data-verso-hover="52">multiply</span></a><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><p>
                The <code>unsafe</code> keyword is used because the definitions above do not type check without them. <code>fibonacci</code> and <code>factorial</code>
are program specifications, they need to be materialized before they can be used. It is instructive to compare this with
the painting <a href="https://en.wikipedia.org/wiki/The_Treachery_of_Images">"Ceci n'est pas une pipe"</a> of René Magritte. The
painting is, of course, not a pipe, it is a description of a pipe. A specification is also a special kind of
description. Much in the same way, descriptions of effects are, luckily enough, also not side effects. So it is safe to
hang a picture of a bomb explosion on your wall.</p>
              </section>
            <section>
              <h2 id="PSBP-Documentation--What-about--Functorial-___">
                5. What about <code>Functorial</code>?</h2>
              <p>
                You may wonder why neither <code>fibonacci</code> nor <code>factorial</code> use <code>Functorial</code>. A <code>Functorial</code> instance can be defined in terms
of <code>Function</code> and <code>Sequential</code>.</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-10951">instance</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Sequential" title="Definition of example"><span class="const token" data-binding="const-Sequential" data-verso-hover="12">Sequential</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
    </span><a href="#Functorial" title="Definition of example"><span class="const token" data-binding="const-Functorial" data-verso-hover="6">Functorial</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-11035">where</span><span class="inter-text">
  </span><a href="#Functorial___andThenF" title="Definition of example"><span class="const token" data-binding="const-Functorial.andThenF" data-verso-hover="55">andThenF</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.43" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.45" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.47" data-verso-hover="4">γ</span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
    </span><span class="var token" data-binding="var-_uniq.17" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.45" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.45" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.47" data-verso-hover="4">γ</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.17" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.47" data-verso-hover="4">γ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
      </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.57" data-verso-hover="21">αpβ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.60" data-verso-hover="56">βfγ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.57" data-verso-hover="21">αpβ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">&gt;=&gt;</span><span class="inter-text"> </span><a href="#Functional___asProgram" title="Definition of example"><span class="const token" data-binding="const-Functional.asProgram" data-verso-hover="3">asProgram</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.60" data-verso-hover="56">βfγ</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><p>
                The <code>f</code> in <code>βfγ</code> stands for "function".</p>
              <p>
                So why introducing <code>Functorial</code> in the first place? Well, the combination of <code>Functorial</code> with <code>Functional</code>, and
<code>Creational</code> is sufficiently expressive to write interesting programs and that are more flexible as far as
implementation and corresponding materialization is concerned than the ones using <code>Sequential</code>.</p>
              <p>
                Below are two programs, <code>twiceMinusOne01</code> and <code>twiceMinusOne02</code>.</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-11626">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-twiceMinusOne01" data-verso-hover="57" id="twiceMinusOne01">twiceMinusOne01</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Functorial" title="Definition of example"><span class="const token" data-binding="const-Functorial" data-verso-hover="6">Functorial</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Creational" title="Definition of example"><span class="const token" data-binding="const-Creational" data-verso-hover="9">Creational</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#minusOne" title="Definition of example"><span class="const token" data-binding="const-minusOne" data-verso-hover="49">minusOne</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">&&&</span><span class="inter-text"> </span><a href="#minusOne" title="Definition of example"><span class="const token" data-binding="const-minusOne" data-verso-hover="49">minusOne</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">&gt;-&gt;</span><span class="inter-text"> </span><a href="#addF" title="Definition of example"><span class="const token" data-binding="const-addF" data-verso-hover="44">addF</span></a><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-11780">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-twiceMinusOne02" data-verso-hover="58" id="twiceMinusOne02">twiceMinusOne02</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.260" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Sequential" title="Definition of example"><span class="const token" data-binding="const-Sequential" data-verso-hover="12">Sequential</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.260" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Creational" title="Definition of example"><span class="const token" data-binding="const-Creational" data-verso-hover="9">Creational</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.260" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.260" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#minusOne" title="Definition of example"><span class="const token" data-binding="const-minusOne" data-verso-hover="49">minusOne</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">&&&</span><span class="inter-text"> </span><a href="#minusOne" title="Definition of example"><span class="const token" data-binding="const-minusOne" data-verso-hover="49">minusOne</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">&gt;=&gt;</span><span class="inter-text"> </span><a href="#add" title="Definition of example"><span class="const token" data-binding="const-add" data-verso-hover="51">add</span></a><span class="inter-text">

</span><span class="unknown token" data-binding=""></span></code><p>
                <code>twiceMinusOne02</code> uses the full power of <code>Sequential</code> while <code>twiceMinusOne01</code> uses the less expressive <code>Functorial</code>.
Using <code>Sequential</code> is, in this case, an unnecessary overkill because the addition that is used in both cases is
effectfree.</p>
              <p>
                That being said, you may argue that what you have read so far is also an unnecessary overkill because, after all, I only
showed (effectfree) functions. But think of replacing <code>minusOne</code> and/ or <code>minusTwO</code> by an effectful program. Having more
implementation and corresponding materialization flexibility when dealing with effects can really be useful. A standard
example is more flexible error handling when processing a submitted web form and even error correction when parsing a
document.</p>
              </section>
            <section>
              <h2 id="PSBP-Documentation--Computation-Valued-Functions">
                6. Computation Valued Functions</h2>
              <p>
                Using computation valued functions is a generic way to implement the program related type classes in terms of the
computation related type classes</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.structureTk-12864">structure</span><span class="inter-text"> </span><span class="const token" data-binding="const-FromComputationValuedFunction" data-verso-hover="59" id="FromComputationValuedFunction">FromComputationValuedFunction</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="60">computation</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.8" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-12955">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-FromComputationValuedFunction.toComputationValuedFunction" data-verso-hover="61" id="FromComputationValuedFunction___toComputationValuedFunction">toComputationValuedFunction</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="60">computation</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.8" data-verso-hover="4">β</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-13016">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-Applicative" data-verso-hover="62">Applicative</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.490" data-verso-hover="60">computation</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
    </span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text">
      </span><span class="unknown token" data-binding="">(</span><a href="#FromComputationValuedFunction" title="Definition of example"><span class="const token" data-binding="const-FromComputationValuedFunction" data-verso-hover="59">FromComputationValuedFunction</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.490" data-verso-hover="60">computation</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-13118">where</span><span class="inter-text">
  </span><a href="#Functional___asProgram" title="Definition of example"><span class="const token" data-binding="const-Functional.asProgram" data-verso-hover="63">asProgram</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.526" data-verso-hover="64">αfβ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="unknown token" data-binding="const-FromComputationValuedFunction.mk" data-verso-hover="65">⟨</span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.541" data-verso-hover="28">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="const token" data-binding="const-Pure.pure" data-verso-hover="66">pure</span><span class="inter-text"> </span><span class="unknown token" data-binding="">$</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.526" data-verso-hover="64">αfβ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.541" data-verso-hover="28">α</span><span class="unknown token" data-binding="const-FromComputationValuedFunction.mk" data-verso-hover="65">⟩</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-13187">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-Functor" data-verso-hover="67">Functor</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.788" data-verso-hover="60">computation</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
    </span><a href="#Functorial" title="Definition of example"><span class="const token" data-binding="const-Functorial" data-verso-hover="6">Functorial</span></a><span class="inter-text">
      </span><span class="unknown token" data-binding="">(</span><a href="#FromComputationValuedFunction" title="Definition of example"><span class="const token" data-binding="const-FromComputationValuedFunction" data-verso-hover="59">FromComputationValuedFunction</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.788" data-verso-hover="60">computation</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-13285">where</span><span class="inter-text">
  </span><a href="#Functorial___andThenF" title="Definition of example"><span class="const token" data-binding="const-Functorial.andThenF" data-verso-hover="68">andThenF</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">⟨</span><span class="var token" data-binding="var-_uniq.861" data-verso-hover="69">αfcβ</span><span class="unknown token" data-binding="">⟩</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.864" data-verso-hover="70">βfγ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="unknown token" data-binding="const-FromComputationValuedFunction.mk" data-verso-hover="65">⟨</span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.874" data-verso-hover="28">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.864" data-verso-hover="70">βfγ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">&lt;$&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.861" data-verso-hover="69">αfcβ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.874" data-verso-hover="28">α</span><span class="unknown token" data-binding="const-FromComputationValuedFunction.mk" data-verso-hover="65">⟩</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-13376">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-Applicative" data-verso-hover="62">Applicative</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1184" data-verso-hover="60">computation</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
    </span><a href="#Creational" title="Definition of example"><span class="const token" data-binding="const-Creational" data-verso-hover="9">Creational</span></a><span class="inter-text">
      </span><span class="unknown token" data-binding="">(</span><a href="#FromComputationValuedFunction" title="Definition of example"><span class="const token" data-binding="const-FromComputationValuedFunction" data-verso-hover="59">FromComputationValuedFunction</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1184" data-verso-hover="60">computation</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-13478">where</span><span class="inter-text">
  </span><a href="#Creational___product" title="Definition of example"><span class="const token" data-binding="const-Creational.product" data-verso-hover="71">product</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">⟨</span><span class="var token" data-binding="var-_uniq.1251" data-verso-hover="69">αfcβ</span><span class="unknown token" data-binding="">⟩</span><span class="inter-text"> </span><span class="unknown token" data-binding="">⟨</span><span class="var token" data-binding="var-_uniq.1271" data-verso-hover="72">αfcγ</span><span class="unknown token" data-binding="">⟩</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text">
    </span><span class="unknown token" data-binding="const-FromComputationValuedFunction.mk" data-verso-hover="65">⟨</span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1281" data-verso-hover="28">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="const token" data-binding="const-Pure.pure" data-verso-hover="66">pure</span><span class="inter-text"> </span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">Prod.mk</span><span class="inter-text"> </span><span class="unknown token" data-binding="">&lt;*&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1251" data-verso-hover="69">αfcβ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1281" data-verso-hover="28">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">&lt;*&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1271" data-verso-hover="72">αfcγ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1281" data-verso-hover="28">α</span><span class="unknown token" data-binding="const-FromComputationValuedFunction.mk" data-verso-hover="65">⟩</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-13590">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-Monad" data-verso-hover="74">Monad</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1807" data-verso-hover="60">computation</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
    </span><a href="#Sequential" title="Definition of example"><span class="const token" data-binding="const-Sequential" data-verso-hover="12">Sequential</span></a><span class="inter-text">
      </span><span class="unknown token" data-binding="">(</span><a href="#FromComputationValuedFunction" title="Definition of example"><span class="const token" data-binding="const-FromComputationValuedFunction" data-verso-hover="59">FromComputationValuedFunction</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1807" data-verso-hover="60">computation</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-13686">where</span><span class="inter-text">
  </span><a href="#Sequential___andThen" title="Definition of example"><span class="const token" data-binding="const-Sequential.andThen" data-verso-hover="75">andThen</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">⟨</span><span class="var token" data-binding="var-_uniq.1874" data-verso-hover="69">αfcβ</span><span class="unknown token" data-binding="">⟩</span><span class="inter-text"> </span><span class="unknown token" data-binding="">⟨</span><span class="var token" data-binding="var-_uniq.1894" data-verso-hover="76">βfcγ</span><span class="unknown token" data-binding="">⟩</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="unknown token" data-binding="const-FromComputationValuedFunction.mk" data-verso-hover="65">⟨</span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1904" data-verso-hover="28">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1874" data-verso-hover="69">αfcβ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1904" data-verso-hover="28">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">&gt;&gt;=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1894" data-verso-hover="76">βfcγ</span><span class="unknown token" data-binding="const-FromComputationValuedFunction.mk" data-verso-hover="65">⟩</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-13778">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-foldSum" data-verso-hover="77" id="foldSum">foldSum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.2276" data-verso-hover="4">γ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2278" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2280" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2284" data-verso-hover="78">γfα</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2276" data-verso-hover="4">γ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2280" data-verso-hover="4">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2288" data-verso-hover="79">βfα</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2278" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2280" data-verso-hover="4">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2292" data-verso-hover="80">sum</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2276" data-verso-hover="4">γ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">⊕</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2278" data-verso-hover="4">β</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2280" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.match-13888" data-verso-hover="81">match</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2292" data-verso-hover="80">sum</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.match-13888" data-verso-hover="81">with</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-Sum.inl" data-verso-hover="30">.inl</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2323" data-verso-hover="82">tc</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2284" data-verso-hover="78">γfα</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2323" data-verso-hover="82">tc</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-Sum.inr" data-verso-hover="32">.inr</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2336" data-verso-hover="83">tb</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2288" data-verso-hover="79">βfα</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2336" data-verso-hover="83">tb</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-13952">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
    </span><a href="#Conditional" title="Definition of example"><span class="const token" data-binding="const-Conditional" data-verso-hover="15">Conditional</span></a><span class="inter-text">
      </span><span class="unknown token" data-binding="">(</span><a href="#FromComputationValuedFunction" title="Definition of example"><span class="const token" data-binding="const-FromComputationValuedFunction" data-verso-hover="59">FromComputationValuedFunction</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2583" data-verso-hover="60">computation</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-14029">where</span><span class="inter-text">
  </span><a href="#Conditional___sum" title="Definition of example"><span class="const token" data-binding="const-Conditional.sum" data-verso-hover="84">sum</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">⟨</span><span class="var token" data-binding="var-_uniq.2643" data-verso-hover="85">γfγα</span><span class="unknown token" data-binding="">⟩</span><span class="inter-text"> </span><span class="unknown token" data-binding="">⟨</span><span class="var token" data-binding="var-_uniq.2663" data-verso-hover="86">βfγα</span><span class="unknown token" data-binding="">⟩</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="unknown token" data-binding="const-FromComputationValuedFunction.mk" data-verso-hover="65">⟨</span><a href="#foldSum" title="Definition of example"><span class="const token" data-binding="const-foldSum" data-verso-hover="77">foldSum</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2643" data-verso-hover="85">γfγα</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2663" data-verso-hover="86">βfγα</span><span class="unknown token" data-binding="const-FromComputationValuedFunction.mk" data-verso-hover="65">⟩</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><p>
                The the <code>c</code> in <code>αfcβ</code> stands for "computation".</p>
              </section>
            <section>
              <h2 id="PSBP-Documentation--ActiveProgram">
                7. <code>ActiveProgram</code></h2>
              <p>
                There is not a lot of work to be done for active implementations. The <code>Functor</code>, <code>Applicative</code> and <code>Monad</code>
implementations of <code>Id</code> can be used.</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.abbrev-14341">abbrev</span><span class="inter-text"> </span><span class="const token" data-binding="const-Active" data-verso-hover="87" id="Active">Active</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="const token" data-binding="const-Id" data-verso-hover="88">Id</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.abbrev-14362">abbrev</span><span class="inter-text"> </span><span class="const token" data-binding="const-ActiveProgram" data-verso-hover="89" id="ActiveProgram">ActiveProgram</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.9" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><a href="#FromComputationValuedFunction" title="Definition of example"><span class="const token" data-binding="const-FromComputationValuedFunction" data-verso-hover="59">FromComputationValuedFunction</span></a><span class="inter-text"> </span><a href="#Active" title="Definition of example"><span class="const token" data-binding="const-Active" data-verso-hover="87">Active</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.9" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="4">β</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-14438">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-materializeActive" data-verso-hover="90" id="materializeActive">materializeActive</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
    </span><a href="#ActiveProgram" title="Definition of example"><span class="const token" data-binding="const-ActiveProgram" data-verso-hover="89">ActiveProgram</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.41" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.36" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.41" data-verso-hover="4">β</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">⟨</span><span class="var token" data-binding="var-_uniq.84" data-verso-hover="91">αpβ</span><span class="unknown token" data-binding="">⟩</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.89" data-verso-hover="28">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.84" data-verso-hover="92">αpβ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.89" data-verso-hover="28">α</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Id.run" data-verso-hover="93">run</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><p>
                We can now run our programs in an active way.</p>
              <code class="hl lean block" data-lean-context="examples"><span class="has-info information"><span class="hover-container"><span class="hover-info messages"><code class="verso-message information"><span class="text"></span><span class="highlighted"><span class="inter-text"></span><span class="unknown token" data-binding="">89</span><span class="inter-text"></span></span></code></span></span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-14641" data-verso-hover="94">#eval</span></span><span class="inter-text">
  </span><a href="#materializeActive" title="Definition of example"><span class="const token" data-binding="const-materializeActive" data-verso-hover="90">materializeActive</span></a><span class="inter-text">
  </span><a href="#fibonacci" title="Definition of example"><span class="const token" data-binding="const-fibonacci" data-verso-hover="53">fibonacci</span></a><span class="inter-text">
  </span><span class="typed token" data-binding="" data-verso-hover="39">10</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><pre class="hl lean lean-output information"><span class="verso-message"><span class="text"></span><span class="text"></span><span class="highlighted"><span class="unknown token" data-binding="">89</span></span></span></pre><code class="hl lean block" data-lean-context="examples"><span class="has-info information"><span class="hover-container"><span class="hover-info messages"><code class="verso-message information"><span class="text"></span><span class="highlighted"><span class="inter-text"></span><span class="unknown token" data-binding="">3628800</span><span class="inter-text"></span></span></code></span></span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-14766" data-verso-hover="94">#eval</span></span><span class="inter-text">
  </span><a href="#materializeActive" title="Definition of example"><span class="const token" data-binding="const-materializeActive" data-verso-hover="90">materializeActive</span></a><span class="inter-text">
  </span><a href="#factorial" title="Definition of example"><span class="const token" data-binding="const-factorial" data-verso-hover="54">factorial</span></a><span class="inter-text">
  </span><span class="typed token" data-binding="" data-verso-hover="39">10</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><pre class="hl lean lean-output information"><span class="verso-message"><span class="text"></span><span class="text"></span><span class="highlighted"><span class="unknown token" data-binding="">3628800</span></span></span></pre><code class="hl lean block" data-lean-context="examples"><span class="has-info information"><span class="hover-container"><span class="hover-info messages"><code class="verso-message information"><span class="text"></span><span class="highlighted"><span class="inter-text"></span><span class="unknown token" data-binding="">18</span><span class="inter-text"></span></span></code></span></span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-14901" data-verso-hover="94">#eval</span></span><span class="inter-text">
  </span><a href="#materializeActive" title="Definition of example"><span class="const token" data-binding="const-materializeActive" data-verso-hover="90">materializeActive</span></a><span class="inter-text">
  </span><a href="#twiceMinusOne01" title="Definition of example"><span class="const token" data-binding="const-twiceMinusOne01" data-verso-hover="57">twiceMinusOne01</span></a><span class="inter-text">
  </span><span class="typed token" data-binding="" data-verso-hover="39">10</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><pre class="hl lean lean-output information"><span class="verso-message"><span class="text"></span><span class="text"></span><span class="highlighted"><span class="unknown token" data-binding="">18</span></span></span></pre><code class="hl lean block" data-lean-context="examples"><span class="has-info information"><span class="hover-container"><span class="hover-info messages"><code class="verso-message information"><span class="text"></span><span class="highlighted"><span class="inter-text"></span><span class="unknown token" data-binding="">18</span><span class="inter-text"></span></span></code></span></span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-15043" data-verso-hover="94">#eval</span></span><span class="inter-text">
  </span><a href="#materializeActive" title="Definition of example"><span class="const token" data-binding="const-materializeActive" data-verso-hover="90">materializeActive</span></a><span class="inter-text">
  </span><a href="#twiceMinusOne02" title="Definition of example"><span class="const token" data-binding="const-twiceMinusOne02" data-verso-hover="58">twiceMinusOne02</span></a><span class="inter-text">
  </span><span class="typed token" data-binding="" data-verso-hover="39">10</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><pre class="hl lean lean-output information"><span class="verso-message"><span class="text"></span><span class="text"></span><span class="highlighted"><span class="unknown token" data-binding="">18</span></span></span></pre></section>
            <section>
              <h2 id="PSBP-Documentation--ReactiveProgram">
                8. <code>ReactiveProgram</code></h2>
              <p>
                There is much more work to be done for reactive implementations. They are callback handler, a.k.a. continuation based.</p>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.structureTk-15294">structure</span><span class="inter-text"> </span><span class="const token" data-binding="const-ReactiveT" data-verso-hover="95" id="ReactiveT">ReactiveT</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="4">ρ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="60">computation</span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.8" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-15379">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-ReactiveT.runReactiveT" data-verso-hover="96" id="ReactiveT___runReactiveT">runReactiveT</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.8" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="60">computation</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="4">ρ</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="60">computation</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="4">ρ</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.abbrev-15446">abbrev</span><span class="inter-text"> </span><span class="const token" data-binding="const-Reactive" data-verso-hover="97" id="Reactive">Reactive</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.502" data-verso-hover="4">ρ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="#ReactiveT" title="Definition of example"><span class="const token" data-binding="const-ReactiveT" data-verso-hover="95">ReactiveT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.502" data-verso-hover="4">ρ</span><span class="inter-text"> </span><a href="#Active" title="Definition of example"><span class="const token" data-binding="const-Active" data-verso-hover="87">Active</span></a><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-15489">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.529" data-verso-hover="4">ρ</span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
    </span><span class="const token" data-binding="const-Functor" data-verso-hover="67">Functor</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="#ReactiveT" title="Definition of example"><span class="const token" data-binding="const-ReactiveT" data-verso-hover="95">ReactiveT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.529" data-verso-hover="4">ρ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.527" data-verso-hover="60">computation</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-15550">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Functor.map" data-verso-hover="98">map</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.565" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.567" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text">
      </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.565" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.567" data-verso-hover="4">β</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text">
      </span><span class="unknown token" data-binding="">(</span><a href="#ReactiveT" title="Definition of example"><span class="const token" data-binding="const-ReactiveT" data-verso-hover="95">ReactiveT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.529" data-verso-hover="4">ρ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.540" data-verso-hover="60">computation</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.565" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text">
      </span><a href="#ReactiveT" title="Definition of example"><span class="const token" data-binding="const-ReactiveT" data-verso-hover="95">ReactiveT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.529" data-verso-hover="4">ρ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.540" data-verso-hover="60">computation</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.567" data-verso-hover="4">β</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.581" data-verso-hover="64">αfβ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.585" data-verso-hover="99">rpa</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text">
      </span><span class="const token" data-binding="const-ReactiveT.mk" data-verso-hover="100">ReactiveT.mk</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.595" data-verso-hover="101">γ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.585" data-verso-hover="99">rpa</span><span class="unknown token" data-binding="">.</span><a href="#ReactiveT___runReactiveT" title="Definition of example"><span class="const token" data-binding="const-ReactiveT.runReactiveT" data-verso-hover="96">runReactiveT</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.595" data-verso-hover="101">γ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">∘</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.581" data-verso-hover="64">αfβ</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-15765">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.828" data-verso-hover="4">ρ</span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
    </span><span class="const token" data-binding="const-Applicative" data-verso-hover="62">Applicative</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="#ReactiveT" title="Definition of example"><span class="const token" data-binding="const-ReactiveT" data-verso-hover="95">ReactiveT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.828" data-verso-hover="4">ρ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.826" data-verso-hover="60">computation</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-15830">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Pure.pure" data-verso-hover="102">pure</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.933" data-verso-hover="28">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="const token" data-binding="const-ReactiveT.mk" data-verso-hover="100">ReactiveT.mk</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.943" data-verso-hover="103">afcr</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.943" data-verso-hover="103">afcr</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.933" data-verso-hover="28">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Seq.seq" data-verso-hover="104">seq</span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.971" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.973" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text">
      </span><span class="unknown token" data-binding="">(</span><a href="#ReactiveT" title="Definition of example"><span class="const token" data-binding="const-ReactiveT" data-verso-hover="95">ReactiveT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.828" data-verso-hover="4">ρ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.839" data-verso-hover="60">computation</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.971" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.973" data-verso-hover="4">β</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text">
      </span><span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-Unit" data-verso-hover="105">Unit</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="#ReactiveT" title="Definition of example"><span class="const token" data-binding="const-ReactiveT" data-verso-hover="95">ReactiveT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.828" data-verso-hover="4">ρ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.839" data-verso-hover="60">computation</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.971" data-verso-hover="4">α</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text">
      </span><span class="unknown token" data-binding="">(</span><a href="#ReactiveT" title="Definition of example"><span class="const token" data-binding="const-ReactiveT" data-verso-hover="95">ReactiveT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.828" data-verso-hover="4">ρ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.839" data-verso-hover="60">computation</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.973" data-verso-hover="4">β</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.991" data-verso-hover="106">rpafc</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.994" data-verso-hover="107">ufrpa</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text">
      </span><span class="const token" data-binding="const-ReactiveT.mk" data-verso-hover="100">ReactiveT.mk</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1001" data-verso-hover="101">bfcr</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text">
        </span><span class="var token" data-binding="var-_uniq.991" data-verso-hover="106">rpafc</span><span class="unknown token" data-binding="">.</span><a href="#ReactiveT___runReactiveT" title="Definition of example"><span class="const token" data-binding="const-ReactiveT.runReactiveT" data-verso-hover="96">runReactiveT</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">$</span><span class="inter-text">
          </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1009" data-verso-hover="64">αfβ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text">
            </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.994" data-verso-hover="107">ufrpa</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">.</span><a href="#ReactiveT___runReactiveT" title="Definition of example"><span class="const token" data-binding="const-ReactiveT.runReactiveT" data-verso-hover="96">runReactiveT</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1001" data-verso-hover="101">bfcr</span><span class="inter-text"> </span><span class="unknown token" data-binding="">∘</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1009" data-verso-hover="64">αfβ</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-16215">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.1503" data-verso-hover="4">ρ</span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
    </span><span class="const token" data-binding="const-Monad" data-verso-hover="74">Monad</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="#ReactiveT" title="Definition of example"><span class="const token" data-binding="const-ReactiveT" data-verso-hover="95">ReactiveT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1503" data-verso-hover="4">ρ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1501" data-verso-hover="60">computation</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-16274">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Bind.bind" data-verso-hover="108">bind</span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.1577" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1579" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text">
      </span><span class="unknown token" data-binding="">(</span><a href="#ReactiveT" title="Definition of example"><span class="const token" data-binding="const-ReactiveT" data-verso-hover="95">ReactiveT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1503" data-verso-hover="4">ρ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1514" data-verso-hover="60">computation</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1577" data-verso-hover="4">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text">
      </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1577" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><a href="#ReactiveT" title="Definition of example"><span class="const token" data-binding="const-ReactiveT" data-verso-hover="95">ReactiveT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1503" data-verso-hover="4">ρ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1514" data-verso-hover="60">computation</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1579" data-verso-hover="4">β</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text">
      </span><span class="unknown token" data-binding="">(</span><a href="#ReactiveT" title="Definition of example"><span class="const token" data-binding="const-ReactiveT" data-verso-hover="95">ReactiveT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1503" data-verso-hover="4">ρ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1514" data-verso-hover="60">computation</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1579" data-verso-hover="4">β</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1594" data-verso-hover="99">rpa</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1597" data-verso-hover="109">afrpb</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text">
      </span><span class="const token" data-binding="const-ReactiveT.mk" data-verso-hover="100">ReactiveT.mk</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1608" data-verso-hover="101">bfcr</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text">
        </span><span class="var token" data-binding="var-_uniq.1594" data-verso-hover="99">rpa</span><span class="unknown token" data-binding="">.</span><a href="#ReactiveT___runReactiveT" title="Definition of example"><span class="const token" data-binding="const-ReactiveT.runReactiveT" data-verso-hover="96">runReactiveT</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1615" data-verso-hover="28">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text">
        </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1597" data-verso-hover="109">afrpb</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1615" data-verso-hover="28">α</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">.</span><a href="#ReactiveT___runReactiveT" title="Definition of example"><span class="const token" data-binding="const-ReactiveT.runReactiveT" data-verso-hover="96">runReactiveT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1608" data-verso-hover="101">bfcr</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.abbrev-16559">abbrev</span><span class="inter-text"> </span><span class="const token" data-binding="const-ReactiveProgram" data-verso-hover="110" id="ReactiveProgram">ReactiveProgram</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1748" data-verso-hover="4">ρ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1751" data-verso-hover="60">computation</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><a href="#FromComputationValuedFunction" title="Definition of example"><span class="const token" data-binding="const-FromComputationValuedFunction" data-verso-hover="59">FromComputationValuedFunction</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="#ReactiveT" title="Definition of example"><span class="const token" data-binding="const-ReactiveT" data-verso-hover="95">ReactiveT</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1748" data-verso-hover="4">ρ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1751" data-verso-hover="60">computation</span><span class="unknown token" data-binding="">)</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-16660">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-materializeReactive" data-verso-hover="111" id="materializeReactive">materializeReactive</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.1778" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1780" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
    </span><a href="#ReactiveProgram" title="Definition of example"><span class="const token" data-binding="const-ReactiveProgram" data-verso-hover="110">ReactiveProgram</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1780" data-verso-hover="4">β</span><span class="inter-text"> </span><a href="#Active" title="Definition of example"><span class="const token" data-binding="const-Active" data-verso-hover="87">Active</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1778" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1780" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1778" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1780" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1799" data-verso-hover="112">αpβ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1802" data-verso-hover="28">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text">
      </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1799" data-verso-hover="113">αpβ</span><span class="unknown token" data-binding="">.</span><a href="#FromComputationValuedFunction___toComputationValuedFunction" title="Definition of example"><span class="const token" data-binding="const-FromComputationValuedFunction.toComputationValuedFunction" data-verso-hover="61">toComputationValuedFunction</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1802" data-verso-hover="28">α</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">.</span><a href="#ReactiveT___runReactiveT" title="Definition of example"><span class="const token" data-binding="const-ReactiveT.runReactiveT" data-verso-hover="96">runReactiveT</span></a><span class="inter-text"> </span><span class="const token" data-binding="const-id" data-verso-hover="19">id</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><p>
                The <code>ρ</code> stands for the "result" of callback handling.</p>
              <p>
                We can now run our programs in a reactive way.</p>
              <code class="hl lean block" data-lean-context="examples"><span class="has-info information"><span class="hover-container"><span class="hover-info messages"><code class="verso-message information"><span class="text"></span><span class="highlighted"><span class="inter-text"></span><span class="unknown token" data-binding="">89</span><span class="inter-text"></span></span></code></span></span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-16993" data-verso-hover="94">#eval</span></span><span class="inter-text">
  </span><a href="#materializeReactive" title="Definition of example"><span class="const token" data-binding="const-materializeReactive" data-verso-hover="111">materializeReactive</span></a><span class="inter-text">
  </span><a href="#fibonacci" title="Definition of example"><span class="const token" data-binding="const-fibonacci" data-verso-hover="53">fibonacci</span></a><span class="inter-text">
  </span><span class="typed token" data-binding="" data-verso-hover="39">10</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><pre class="hl lean lean-output information"><span class="verso-message"><span class="text"></span><span class="text"></span><span class="highlighted"><span class="unknown token" data-binding="">89</span></span></span></pre><code class="hl lean block" data-lean-context="examples"><span class="has-info information"><span class="hover-container"><span class="hover-info messages"><code class="verso-message information"><span class="text"></span><span class="highlighted"><span class="inter-text"></span><span class="unknown token" data-binding="">3628800</span><span class="inter-text"></span></span></code></span></span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-17125" data-verso-hover="94">#eval</span></span><span class="inter-text">
  </span><a href="#materializeReactive" title="Definition of example"><span class="const token" data-binding="const-materializeReactive" data-verso-hover="111">materializeReactive</span></a><span class="inter-text">
  </span><a href="#factorial" title="Definition of example"><span class="const token" data-binding="const-factorial" data-verso-hover="54">factorial</span></a><span class="inter-text">
  </span><span class="typed token" data-binding="" data-verso-hover="39">10</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><pre class="hl lean lean-output information"><span class="verso-message"><span class="text"></span><span class="text"></span><span class="highlighted"><span class="unknown token" data-binding="">3628800</span></span></span></pre><code class="hl lean block" data-lean-context="examples"><span class="has-info information"><span class="hover-container"><span class="hover-info messages"><code class="verso-message information"><span class="text"></span><span class="highlighted"><span class="inter-text"></span><span class="unknown token" data-binding="">18</span><span class="inter-text"></span></span></code></span></span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-17267" data-verso-hover="94">#eval</span></span><span class="inter-text">
  </span><a href="#materializeReactive" title="Definition of example"><span class="const token" data-binding="const-materializeReactive" data-verso-hover="111">materializeReactive</span></a><span class="inter-text">
  </span><a href="#twiceMinusOne01" title="Definition of example"><span class="const token" data-binding="const-twiceMinusOne01" data-verso-hover="57">twiceMinusOne01</span></a><span class="inter-text">
  </span><span class="typed token" data-binding="" data-verso-hover="39">10</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><pre class="hl lean lean-output information"><span class="verso-message"><span class="text"></span><span class="text"></span><span class="highlighted"><span class="unknown token" data-binding="">18</span></span></span></pre><code class="hl lean block" data-lean-context="examples"><span class="has-info information"><span class="hover-container"><span class="hover-info messages"><code class="verso-message information"><span class="text"></span><span class="highlighted"><span class="inter-text"></span><span class="unknown token" data-binding="">18</span><span class="inter-text"></span></span></code></span></span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-17416" data-verso-hover="94">#eval</span></span><span class="inter-text">
  </span><a href="#materializeReactive" title="Definition of example"><span class="const token" data-binding="const-materializeReactive" data-verso-hover="111">materializeReactive</span></a><span class="inter-text">
  </span><a href="#twiceMinusOne02" title="Definition of example"><span class="const token" data-binding="const-twiceMinusOne02" data-verso-hover="58">twiceMinusOne02</span></a><span class="inter-text">
  </span><span class="typed token" data-binding="" data-verso-hover="39">10</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><pre class="hl lean lean-output information"><span class="verso-message"><span class="text"></span><span class="text"></span><span class="highlighted"><span class="unknown token" data-binding="">18</span></span></span></pre><p>
                We did not change the definition of our programs, we only materialized them in another way.</p>
              </section>
            <section>
              <h2 id="PSBP-Documentation--Positional-Programming">
                9. Positional Programming</h2>
              <section>
                <h3 id="PSBP-Documentation--Positional-Programming--Using--Functorial">
                  9.1. Using <code>Functorial</code></h3>
                <p>
                  Pointfree programming, like is done for <code>fibonacci</code> and <code>factorial</code> may be a elegant, but <code>PSBP</code> also enables, and,
for reasons of elegance, sometimes needs, positional programming. Let's first start with <code>Functorial</code> based positional
programming. Suppose we want to run the function that transforms an argument value <code>ν</code> of type <code>Nat</code> to result value
<code>(((ν-1, ν-2), 2), 3) =&gt; (ν-2) + 2 * (ν-1) + 3</code>. The <code>someProgram01</code> below could be a solution. <code>someProgram01</code> makes
use of <code>Functorial</code>.</p>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-18194">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-twoF" data-verso-hover="114" id="twoF">twoF</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="39">2</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-18231">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-threeF" data-verso-hover="115" id="threeF">threeF</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="39">3</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-18270">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-two" data-verso-hover="116" id="two">two</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.66" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.66" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#Functional___asProgram" title="Definition of example"><span class="const token" data-binding="const-Functional.asProgram" data-verso-hover="3">asProgram</span></a><span class="inter-text"> </span><a href="#twoF" title="Definition of example"><span class="const token" data-binding="const-twoF" data-verso-hover="114">twoF</span></a><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-18342">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-three" data-verso-hover="117" id="three">three</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.160" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.160" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#Functional___asProgram" title="Definition of example"><span class="const token" data-binding="const-Functional.asProgram" data-verso-hover="3">asProgram</span></a><span class="inter-text"> </span><a href="#threeF" title="Definition of example"><span class="const token" data-binding="const-threeF" data-verso-hover="115">threeF</span></a><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-18418">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-someProgram01" data-verso-hover="118" id="someProgram01">someProgram01</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.254" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Functorial" title="Definition of example"><span class="const token" data-binding="const-Functorial" data-verso-hover="6">Functorial</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.254" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Creational" title="Definition of example"><span class="const token" data-binding="const-Creational" data-verso-hover="9">Creational</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.254" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.254" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#minusOne" title="Definition of example"><span class="const token" data-binding="const-minusOne" data-verso-hover="49">minusOne</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">&&&</span><span class="inter-text"> </span><a href="#minusTwo" title="Definition of example"><span class="const token" data-binding="const-minusTwo" data-verso-hover="50">minusTwo</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">&&&</span><span class="inter-text"> </span><a href="#two" title="Definition of example"><span class="const token" data-binding="const-two" data-verso-hover="116">two</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">&&&</span><span class="inter-text"> </span><a href="#three" title="Definition of example"><span class="const token" data-binding="const-three" data-verso-hover="117">three</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">&gt;-&gt;</span><span class="inter-text">
      </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.753" data-verso-hover="39">ν1</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.754" data-verso-hover="39">ν2</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.755" data-verso-hover="39">ν3</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.756" data-verso-hover="39">ν4</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text">
        </span><span class="var token" data-binding="var-_uniq.754" data-verso-hover="39">ν2</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.755" data-verso-hover="39">ν3</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.753" data-verso-hover="39">ν1</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.756" data-verso-hover="39">ν4</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info information"><span class="hover-container"><span class="hover-info messages"><code class="verso-message information"><span class="text"></span><span class="highlighted"><span class="inter-text"></span><span class="unknown token" data-binding="">29</span><span class="inter-text"></span></span></code></span></span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-18697" data-verso-hover="94">#eval</span></span><span class="inter-text">
  </span><a href="#materializeActive" title="Definition of example"><span class="const token" data-binding="const-materializeActive" data-verso-hover="90">materializeActive</span></a><span class="inter-text">
  </span><a href="#someProgram01" title="Definition of example"><span class="const token" data-binding="const-someProgram01" data-verso-hover="118">someProgram01</span></a><span class="inter-text">
  </span><span class="typed token" data-binding="" data-verso-hover="39">10</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><pre class="hl lean lean-output information"><span class="verso-message"><span class="text"></span><span class="text"></span><span class="highlighted"><span class="unknown token" data-binding="">29</span></span></span></pre><code class="hl lean block" data-lean-context="examples"><span class="has-info information"><span class="hover-container"><span class="hover-info messages"><code class="verso-message information"><span class="text"></span><span class="highlighted"><span class="inter-text"></span><span class="unknown token" data-binding="">29</span><span class="inter-text"></span></span></code></span></span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-18836" data-verso-hover="94">#eval</span></span><span class="inter-text">
  </span><a href="#materializeReactive" title="Definition of example"><span class="const token" data-binding="const-materializeReactive" data-verso-hover="111">materializeReactive</span></a><span class="inter-text">
  </span><a href="#someProgram01" title="Definition of example"><span class="const token" data-binding="const-someProgram01" data-verso-hover="118">someProgram01</span></a><span class="inter-text">
  </span><span class="typed token" data-binding="" data-verso-hover="39">10</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><pre class="hl lean lean-output information"><span class="verso-message"><span class="text"></span><span class="text"></span><span class="highlighted"><span class="unknown token" data-binding="">29</span></span></span></pre><p>
                  You may argue that, as for as the acting function involved is concerned, we are back to pointful programming. Well,
somehow you are right, but notice that all <code>ν</code>'s involved have indices (<code>1</code>, <code>2</code>, <code>3</code> and <code>4</code>). They can be thought of
as positions. So we are essentially accessing values at positions of multi-values. For this example the multi-value
involved is homogeneous but it might as well be a heterogeneous one. More about this later.</p>
                </section>
              <section>
                <h3 id="PSBP-Documentation--Positional-Programming--Using--Sequential">
                  9.2. Using <code>Sequential</code></h3>
                <p>
                  The <code>someProgram02</code> below could also be a solution. <code>someProgram02</code> makes use of <code>Sequential</code>.</p>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-19508">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-someProgram02" data-verso-hover="119" id="someProgram02">someProgram02</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Sequential" title="Definition of example"><span class="const token" data-binding="const-Sequential" data-verso-hover="12">Sequential</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Creational" title="Definition of example"><span class="const token" data-binding="const-Creational" data-verso-hover="9">Creational</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#minusOne" title="Definition of example"><span class="const token" data-binding="const-minusOne" data-verso-hover="49">minusOne</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">&&&</span><span class="inter-text"> </span><a href="#minusTwo" title="Definition of example"><span class="const token" data-binding="const-minusTwo" data-verso-hover="50">minusTwo</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">&&&</span><span class="inter-text"> </span><a href="#two" title="Definition of example"><span class="const token" data-binding="const-two" data-verso-hover="116">two</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">&&&</span><span class="inter-text"> </span><a href="#three" title="Definition of example"><span class="const token" data-binding="const-three" data-verso-hover="117">three</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">&gt;=&gt;</span><span class="inter-text">
      </span><a href="#Functional___asProgram" title="Definition of example"><span class="const token" data-binding="const-Functional.asProgram" data-verso-hover="3">asProgram</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.511" data-verso-hover="39">ν1</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.512" data-verso-hover="39">ν2</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.513" data-verso-hover="39">ν3</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.514" data-verso-hover="39">ν4</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text">
        </span><span class="var token" data-binding="var-_uniq.512" data-verso-hover="39">ν2</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.513" data-verso-hover="39">ν3</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.511" data-verso-hover="39">ν1</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.514" data-verso-hover="39">ν4</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info information"><span class="hover-container"><span class="hover-info messages"><code class="verso-message information"><span class="text"></span><span class="highlighted"><span class="inter-text"></span><span class="unknown token" data-binding="">29</span><span class="inter-text"></span></span></code></span></span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-19799" data-verso-hover="94">#eval</span></span><span class="inter-text">
  </span><a href="#materializeActive" title="Definition of example"><span class="const token" data-binding="const-materializeActive" data-verso-hover="90">materializeActive</span></a><span class="inter-text">
  </span><a href="#someProgram02" title="Definition of example"><span class="const token" data-binding="const-someProgram02" data-verso-hover="119">someProgram02</span></a><span class="inter-text">
  </span><span class="typed token" data-binding="" data-verso-hover="39">10</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><pre class="hl lean lean-output information"><span class="verso-message"><span class="text"></span><span class="text"></span><span class="highlighted"><span class="unknown token" data-binding="">29</span></span></span></pre><p>
                  As already mentioned before using <code>Sequential</code> is, in this case, an overkill.</p>
                </section>
              <section>
                <h3 id="PSBP-Documentation--Positional-Programming--class-Positional">
                  9.3. <code>class Positional</code></h3>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.classTk-20007">class</span><span class="inter-text"> </span><span class="const token" data-binding="const-Positional" data-verso-hover="120" id="Positional">Positional</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-20059">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Positional.at_" data-verso-hover="121" id="Positional___at_">at_</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.14" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.16" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.18" data-verso-hover="4">γ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
    </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.14" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.16" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text">
    </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.14" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text">
    </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.16" data-verso-hover="4">β</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.18" data-verso-hover="4">γ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text">
    </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.18" data-verso-hover="4">γ</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.export-20187" data-verso-hover="5">export</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Positional</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="#Positional___at_" title="Definition of example"><span class="const token" data-binding="const-Positional.at_" data-verso-hover="121">at_</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.infixl-20212">infixl</span><span class="unknown token" data-binding="">:</span><span class="unknown token" data-binding="">45</span><span class="inter-text"> </span><span class="literal string token" data-binding="" data-verso-hover="122">" @ "</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><a href="#Positional___at_" title="Definition of example"><span class="const token" data-binding="const-Positional.at_" data-verso-hover="121">at_</span></a><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><p>
                  The <code>σ</code> stands for (runtime) "stack", and <code>σ × β</code> stands for <code>β</code> pushed onto <code>σ</code>. More about this later.</p>
                <p>
                  The <code>at_</code> library level keyword of <code>Positional</code> can be defined in terms of <code>Functional</code>, <code>Creational</code> and <code>Sequential</code>.</p>
                </section>
              <section>
                <h3 id="PSBP-Documentation--Positional-Programming--instance-Positional">
                  9.4. <code>instance Positional</code></h3>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-20512">instance</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Creational" title="Definition of example"><span class="const token" data-binding="const-Creational" data-verso-hover="9">Creational</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Sequential" title="Definition of example"><span class="const token" data-binding="const-Sequential" data-verso-hover="12">Sequential</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
    </span><a href="#Positional" title="Definition of example"><span class="const token" data-binding="const-Positional" data-verso-hover="120">Positional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-20621">where</span><span class="inter-text">
  </span><a href="#Positional___at_" title="Definition of example"><span class="const token" data-binding="const-Positional.at_" data-verso-hover="123">at_</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.51" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.53" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.55" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.57" data-verso-hover="4">γ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
    </span><span class="var token" data-binding="var-_uniq.21" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.53" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.55" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text">
    </span><span class="var token" data-binding="var-_uniq.21" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.51" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.53" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text">
    </span><span class="var token" data-binding="var-_uniq.21" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.51" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.55" data-verso-hover="4">β</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.57" data-verso-hover="4">γ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text">
    </span><span class="var token" data-binding="var-_uniq.21" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.51" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.57" data-verso-hover="4">γ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
      </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.69" data-verso-hover="21">αpβ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.72" data-verso-hover="124">σpα</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text">
        </span><a href="#let_" title="Definition of example"><span class="const token" data-binding="const-let_" data-verso-hover="20">let_</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.72" data-verso-hover="124">σpα</span><span class="inter-text"> </span><span class="unknown token" data-binding="">&gt;=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.69" data-verso-hover="21">αpβ</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><p>
                  Think of <code>σpα</code> as accessing a (multi-)value, <code>α</code>, on the runtime stack, <code>σ</code>. Think of <code>αpβ</code> as transforming that
(multi-)value to <code>β</code>. <code>let_</code> then pushes <code>β</code> on <code>σ</code> obtaining <code>σ × β</code>. So, if it possible to transform <code>α</code> to an
intermediate value <code>β</code>, to transform the runtime stack <code>σ</code> to <code>α</code>, and to transform <code>σ × β</code> to <code>γ</code>, then it is possible
to transform <code>σ</code> to <code>γ</code>.</p>
                </section>
              <section>
                <h3 id="PSBP-Documentation--Positional-Programming--Some-positions">
                  9.5. Some positions</h3>
                <p>
                  Let's define some positions on a runtime stack <code>σ</code>.</p>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-21291">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-positionOne" data-verso-hover="125" id="positionOne">positionOne</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.14" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22" data-verso-hover="4">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#Functional___asProgram" title="Definition of example"><span class="const token" data-binding="const-Functional.asProgram" data-verso-hover="3">asProgram</span></a><span class="inter-text">  </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">_</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.74" data-verso-hover="28">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.74" data-verso-hover="28">α</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-21394">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-positionTwo" data-verso-hover="126" id="positionTwo">positionTwo</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.288" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.288" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.300" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.310" data-verso-hover="4">β</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.320" data-verso-hover="4">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.310" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#Functional___asProgram" title="Definition of example"><span class="const token" data-binding="const-Functional.asProgram" data-verso-hover="3">asProgram</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">_</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.394" data-verso-hover="127">β</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.394" data-verso-hover="127">β</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-21509">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-positionOneAndTwo" data-verso-hover="128" id="positionOneAndTwo">positionOneAndTwo</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.675" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.675" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.687" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.697" data-verso-hover="4">β</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.707" data-verso-hover="4">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.707" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.697" data-verso-hover="4">β</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#Functional___asProgram" title="Definition of example"><span class="const token" data-binding="const-Functional.asProgram" data-verso-hover="3">asProgram</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">_</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.781" data-verso-hover="127">β</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.782" data-verso-hover="28">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.782" data-verso-hover="28">α</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.781" data-verso-hover="127">β</span><span class="unknown token" data-binding="">)</span><span class="inter-text">

-- ...
</span><span class="unknown token" data-binding=""></span></code><p>
                  <code>positionOne</code> and <code>positionTwo</code> are single-value positions. <code>positionOneAndTwo</code> is a multi-value position.</p>
                </section>
              <section>
                <h3 id="PSBP-Documentation--Positional-Programming--positionalFactorialOfFibonacci--and--positionalSumOfFibonacciAndFactorial">
                  9.6. <code>positionalFactorialOfFibonacci</code> and <code>positionalSumOfFibonacciAndFactorial</code></h3>
                <p>
                  Below are two positional programs. The first one, <code>positionalFactorialOfFibonacci</code> uses only uses <code>positionOne</code>. The
second one <code>positionalSumOfFibonacciAndFactorial</code> uses three positions. Positions go up starting from their use site.</p>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.unsafe-22094">unsafe</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-22101">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-positionalFactorialOfFibonacci" data-verso-hover="129" id="positionalFactorialOfFibonacci">positionalFactorialOfFibonacci</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Creational" title="Definition of example"><span class="const token" data-binding="const-Creational" data-verso-hover="9">Creational</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Sequential" title="Definition of example"><span class="const token" data-binding="const-Sequential" data-verso-hover="12">Sequential</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Conditional" title="Definition of example"><span class="const token" data-binding="const-Conditional" data-verso-hover="15">Conditional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.26" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#fibonacci" title="Definition of example"><span class="const token" data-binding="const-fibonacci" data-verso-hover="53">fibonacci</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">@</span><span class="inter-text"> </span><a href="#positionOne" title="Definition of example"><span class="const token" data-binding="const-positionOne" data-verso-hover="125">positionOne</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">$</span><span class="inter-text">
      </span><a href="#factorial" title="Definition of example"><span class="const token" data-binding="const-factorial" data-verso-hover="54">factorial</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">@</span><span class="inter-text"> </span><a href="#positionOne" title="Definition of example"><span class="const token" data-binding="const-positionOne" data-verso-hover="125">positionOne</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">$</span><span class="inter-text">
        </span><a href="#positionOne" title="Definition of example"><span class="const token" data-binding="const-positionOne" data-verso-hover="125">positionOne</span></a><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.unsafe-22368">unsafe</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-22375">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-positionalSumOfFibonacciAndFactorial" data-verso-hover="130" id="positionalSumOfFibonacciAndFactorial">positionalSumOfFibonacciAndFactorial</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Creational" title="Definition of example"><span class="const token" data-binding="const-Creational" data-verso-hover="9">Creational</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Sequential" title="Definition of example"><span class="const token" data-binding="const-Sequential" data-verso-hover="12">Sequential</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Conditional" title="Definition of example"><span class="const token" data-binding="const-Conditional" data-verso-hover="15">Conditional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.26" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#fibonacci" title="Definition of example"><span class="const token" data-binding="const-fibonacci" data-verso-hover="53">fibonacci</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">@</span><span class="inter-text"> </span><a href="#positionOne" title="Definition of example"><span class="const token" data-binding="const-positionOne" data-verso-hover="125">positionOne</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">$</span><span class="inter-text">
      </span><a href="#factorial" title="Definition of example"><span class="const token" data-binding="const-factorial" data-verso-hover="54">factorial</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">@</span><span class="inter-text"> </span><a href="#positionTwo" title="Definition of example"><span class="const token" data-binding="const-positionTwo" data-verso-hover="126">positionTwo</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">$</span><span class="inter-text">
        </span><a href="#add" title="Definition of example"><span class="const token" data-binding="const-add" data-verso-hover="51">add</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">@</span><span class="inter-text"> </span><a href="#positionOneAndTwo" title="Definition of example"><span class="const token" data-binding="const-positionOneAndTwo" data-verso-hover="128">positionOneAndTwo</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">$</span><span class="inter-text">
          </span><a href="#positionOne" title="Definition of example"><span class="const token" data-binding="const-positionOne" data-verso-hover="125">positionOne</span></a><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><p>
                  <code>Positional</code> is not part of the list of required type class instances because it can be inferred.</p>
                <code class="hl lean block" data-lean-context="examples"><span class="has-info information"><span class="hover-container"><span class="hover-info messages"><code class="verso-message information"><span class="text"></span><span class="highlighted"><span class="inter-text"></span><span class="unknown token" data-binding="">40320</span><span class="inter-text"></span></span></code></span></span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-22830" data-verso-hover="94">#eval</span></span><span class="inter-text">
  </span><a href="#materializeActive" title="Definition of example"><span class="const token" data-binding="const-materializeActive" data-verso-hover="90">materializeActive</span></a><span class="inter-text">
  </span><a href="#positionalFactorialOfFibonacci" title="Definition of example"><span class="const token" data-binding="const-positionalFactorialOfFibonacci" data-verso-hover="129">positionalFactorialOfFibonacci</span></a><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="39">5</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><pre class="hl lean lean-output information"><span class="verso-message"><span class="text"></span><span class="text"></span><span class="highlighted"><span class="unknown token" data-binding="">40320</span></span></span></pre><code class="hl lean block" data-lean-context="examples"><span class="has-info information"><span class="hover-container"><span class="hover-info messages"><code class="verso-message information"><span class="text"></span><span class="highlighted"><span class="inter-text"></span><span class="unknown token" data-binding="">3628889</span><span class="inter-text"></span></span></code></span></span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-23032" data-verso-hover="94">#eval</span></span><span class="inter-text">
  </span><a href="#materializeActive" title="Definition of example"><span class="const token" data-binding="const-materializeActive" data-verso-hover="90">materializeActive</span></a><span class="inter-text">
  </span><a href="#positionalSumOfFibonacciAndFactorial" title="Definition of example"><span class="const token" data-binding="const-positionalSumOfFibonacciAndFactorial" data-verso-hover="130">positionalSumOfFibonacciAndFactorial</span></a><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="39">10</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><pre class="hl lean lean-output information"><span class="verso-message"><span class="text"></span><span class="text"></span><span class="highlighted"><span class="unknown token" data-binding="">3628889</span></span></span></pre></section>
              <section>
                <h3 id="PSBP-Documentation--Positional-Programming--positionalFactorialOfFibonacci___--and--positionalSumOfFibonacciAndFactorial___">
                  9.7. <code>positionalFactorialOfFibonacci'</code> and <code>positionalSumOfFibonacciAndFactorial'</code></h3>
                <p>
                  It is instructive to show the runtime stack using <code>identity</code> as in <code>positionalFactorialOfFibonacci'</code> and
<code>positionalSumOfFibonacciAndFactorial'</code></p>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.unsafe-23424">unsafe</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-23431">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-positionalFactorialOfFibonacci'" data-verso-hover="131" id="positionalFactorialOfFibonacci___">positionalFactorialOfFibonacci'</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Creational" title="Definition of example"><span class="const token" data-binding="const-Creational" data-verso-hover="9">Creational</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Sequential" title="Definition of example"><span class="const token" data-binding="const-Sequential" data-verso-hover="12">Sequential</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Conditional" title="Definition of example"><span class="const token" data-binding="const-Conditional" data-verso-hover="15">Conditional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.26" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.26" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#fibonacci" title="Definition of example"><span class="const token" data-binding="const-fibonacci" data-verso-hover="53">fibonacci</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">@</span><span class="inter-text"> </span><a href="#positionOne" title="Definition of example"><span class="const token" data-binding="const-positionOne" data-verso-hover="125">positionOne</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">$</span><span class="inter-text">
      </span><a href="#factorial" title="Definition of example"><span class="const token" data-binding="const-factorial" data-verso-hover="54">factorial</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">@</span><span class="inter-text"> </span><a href="#positionOne" title="Definition of example"><span class="const token" data-binding="const-positionOne" data-verso-hover="125">positionOne</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">$</span><span class="inter-text">
        </span><a href="#identity" title="Definition of example"><span class="const token" data-binding="const-identity" data-verso-hover="18">identity</span></a><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.unsafe-23722">unsafe</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-23729">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-positionalSumOfFibonacciAndFactorial'" data-verso-hover="132" id="positionalSumOfFibonacciAndFactorial___">positionalSumOfFibonacciAndFactorial'</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Creational" title="Definition of example"><span class="const token" data-binding="const-Creational" data-verso-hover="9">Creational</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Sequential" title="Definition of example"><span class="const token" data-binding="const-Sequential" data-verso-hover="12">Sequential</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Conditional" title="Definition of example"><span class="const token" data-binding="const-Conditional" data-verso-hover="15">Conditional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.26" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.26" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#fibonacci" title="Definition of example"><span class="const token" data-binding="const-fibonacci" data-verso-hover="53">fibonacci</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">@</span><span class="inter-text"> </span><a href="#positionOne" title="Definition of example"><span class="const token" data-binding="const-positionOne" data-verso-hover="125">positionOne</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">$</span><span class="inter-text">
      </span><a href="#factorial" title="Definition of example"><span class="const token" data-binding="const-factorial" data-verso-hover="54">factorial</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">@</span><span class="inter-text"> </span><a href="#positionTwo" title="Definition of example"><span class="const token" data-binding="const-positionTwo" data-verso-hover="126">positionTwo</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">$</span><span class="inter-text">
        </span><a href="#add" title="Definition of example"><span class="const token" data-binding="const-add" data-verso-hover="51">add</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">@</span><span class="inter-text"> </span><a href="#positionOneAndTwo" title="Definition of example"><span class="const token" data-binding="const-positionOneAndTwo" data-verso-hover="128">positionOneAndTwo</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">$</span><span class="inter-text">
          </span><a href="#identity" title="Definition of example"><span class="const token" data-binding="const-identity" data-verso-hover="18">identity</span></a><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info information"><span class="hover-container"><span class="hover-info messages"><code class="verso-message information"><span class="text"></span><span class="highlighted"><span class="inter-text"></span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">(</span><span class="inter-text"></span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">(</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">(</span><span class="const token" data-binding="const-Unit.unit" data-verso-hover="133">(</span><span class="const token" data-binding="const-Unit.unit" data-verso-hover="133">)</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">5</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">)</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">8</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">)</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">40320</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">)</span></span></code></span></span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-24119" data-verso-hover="94">#eval</span></span><span class="inter-text">
  </span><a href="#materializeActive" title="Definition of example"><span class="const token" data-binding="const-materializeActive" data-verso-hover="90">materializeActive</span></a><span class="inter-text">
  </span><a href="#positionalFactorialOfFibonacci___" title="Definition of example"><span class="const token" data-binding="const-positionalFactorialOfFibonacci'" data-verso-hover="131">positionalFactorialOfFibonacci'</span></a><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="39">5</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><pre class="hl lean lean-output information"><span class="verso-message"><span class="text"></span><span class="text"></span><span class="highlighted"><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">(</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">(</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">(</span><span class="const token" data-binding="const-Unit.unit" data-verso-hover="133">(</span><span class="const token" data-binding="const-Unit.unit" data-verso-hover="133">)</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">5</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">)</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">8</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">)</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">40320</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">)</span></span></span></pre><code class="hl lean block" data-lean-context="examples"><span class="has-info information"><span class="hover-container"><span class="hover-info messages"><code class="verso-message information"><span class="text"></span><span class="highlighted"><span class="inter-text"></span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">(</span><span class="inter-text"></span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">(</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">(</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">(</span><span class="const token" data-binding="const-Unit.unit" data-verso-hover="133">(</span><span class="const token" data-binding="const-Unit.unit" data-verso-hover="133">)</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">10</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">)</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">89</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">)</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">3628800</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">)</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">3628889</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">)</span></span></code></span></span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-24340" data-verso-hover="94">#eval</span></span><span class="inter-text">
  </span><a href="#materializeActive" title="Definition of example"><span class="const token" data-binding="const-materializeActive" data-verso-hover="90">materializeActive</span></a><span class="inter-text">
  </span><a href="#positionalSumOfFibonacciAndFactorial___" title="Definition of example"><span class="const token" data-binding="const-positionalSumOfFibonacciAndFactorial'" data-verso-hover="132">positionalSumOfFibonacciAndFactorial'</span></a><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="39">10</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><pre class="hl lean lean-output information"><span class="verso-message"><span class="text"></span><span class="text"></span><span class="highlighted"><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">(</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">(</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">(</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">(</span><span class="const token" data-binding="const-Unit.unit" data-verso-hover="133">(</span><span class="const token" data-binding="const-Unit.unit" data-verso-hover="133">)</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">10</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">)</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">89</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">)</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">3628800</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">)</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">3628889</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">)</span></span></span></pre></section>
              </section>
            <section>
              <h2 id="PSBP-Documentation--Stateful-Programming">
                10. Stateful Programming</h2>
              <section>
                <h3 id="PSBP-Documentation--Stateful-Programming--class-Stateful-___">
                  10.1. <code>class Stateful σ</code></h3>
                <p>
                  <code>PSBP</code> enables stateful programming using the <code>Stateful</code> class below.</p>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.classTk-24654">class</span><span class="inter-text"> </span><span class="const token" data-binding="const-Stateful" data-verso-hover="134" id="Stateful">Stateful</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.8" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-24724">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Stateful.readState" data-verso-hover="135" id="Stateful___readState">readState</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.15" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.8" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.15" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="4">σ</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Stateful.writeState" data-verso-hover="136" id="Stateful___writeState">writeState</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.8" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="const token" data-binding="const-Unit" data-verso-hover="105">Unit</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.export-24802" data-verso-hover="5">export</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Stateful</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="#Stateful___readState" title="Definition of example"><span class="const token" data-binding="const-Stateful.readState" data-verso-hover="135">readState</span></a><span class="inter-text"> </span><a href="#Stateful___writeState" title="Definition of example"><span class="const token" data-binding="const-Stateful.writeState" data-verso-hover="136">writeState</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><section>
                  <h4 id="PSBP-Documentation--Stateful-Programming--class-Stateful-___--def-modifyStateWith">
                    10.1.1. <code>def modifyStateWith</code></h4>
                  <p>
                    Below is <code>modifyStateWith</code> a useful stateful programming capability.</p>
                  <p>
                    Let</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-24961">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-first" data-verso-hover="137" id="first">first</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.14" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.22" data-verso-hover="4">β</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.14" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#Functional___asProgram" title="Definition of example"><span class="const token" data-binding="const-Functional.asProgram" data-verso-hover="3">asProgram</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.74" data-verso-hover="28">α</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.74" data-verso-hover="28">α</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-25057">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-second" data-verso-hover="138" id="second">second</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.276" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.276" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.286" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.294" data-verso-hover="4">β</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.294" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#Functional___asProgram" title="Definition of example"><span class="const token" data-binding="const-Functional.asProgram" data-verso-hover="3">asProgram</span></a><span class="inter-text">  </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">_</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.346" data-verso-hover="127">β</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.346" data-verso-hover="127">β</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><p>
                    in (only <code>first</code> above is used)</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-25205">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-modifyStateWith" data-verso-hover="139" id="modifyStateWith">modifyStateWith</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Sequential" title="Definition of example"><span class="const token" data-binding="const-Sequential" data-verso-hover="12">Sequential</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Creational" title="Definition of example"><span class="const token" data-binding="const-Creational" data-verso-hover="9">Creational</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Stateful" title="Definition of example"><span class="const token" data-binding="const-Stateful" data-verso-hover="134">Stateful</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.20" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20" data-verso-hover="4">σ</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.42" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.81" data-verso-hover="140">σfσ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text">
      </span><a href="#let_" title="Definition of example"><span class="const token" data-binding="const-let_" data-verso-hover="20">let_</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">(</span><a href="#Stateful___readState" title="Definition of example"><span class="const token" data-binding="const-Stateful.readState" data-verso-hover="135">readState</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">&gt;=&gt;</span><span class="inter-text"> </span><a href="#Functional___asProgram" title="Definition of example"><span class="const token" data-binding="const-Functional.asProgram" data-verso-hover="3">asProgram</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.81" data-verso-hover="140">σfσ</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">&gt;=&gt;</span><span class="inter-text"> </span><a href="#Stateful___writeState" title="Definition of example"><span class="const token" data-binding="const-Stateful.writeState" data-verso-hover="136">writeState</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">$</span><span class="inter-text">
        </span><a href="#in_" title="Definition of example"><span class="const token" data-binding="const-in_" data-verso-hover="23">in_</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">$</span><span class="inter-text">
          </span><a href="#first" title="Definition of example"><span class="const token" data-binding="const-first" data-verso-hover="137">first</span></a><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><p>
                    <code>modifyStateWith</code> modifies the state and does not transform the initial value (argument).</p>
                  </section>
                <section>
                  <h4 id="PSBP-Documentation--Stateful-Programming--class-Stateful-___--def-modifyStateWith-next">
                    10.1.2. <code>def modifyStateWith</code></h4>
                  <p>
                    Below is <code>usingAndModifyingStateAsArgumentWith</code> a useful stateful programming capability.</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-25698">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-usingAndModifyingStateAsArgumentWith" data-verso-hover="141" id="usingAndModifyingStateAsArgumentWith">usingAndModifyingStateAsArgumentWith</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Creational" title="Definition of example"><span class="const token" data-binding="const-Creational" data-verso-hover="9">Creational</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Sequential" title="Definition of example"><span class="const token" data-binding="const-Sequential" data-verso-hover="12">Sequential</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Conditional" title="Definition of example"><span class="const token" data-binding="const-Conditional" data-verso-hover="15">Conditional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Stateful" title="Definition of example"><span class="const token" data-binding="const-Stateful" data-verso-hover="134">Stateful</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.24" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24" data-verso-hover="4">σ</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.70" data-verso-hover="140">σfσ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text">
      </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.74" data-verso-hover="142">σpσ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text">
        </span><span class="unknown token" data-binding="">(</span><a href="#Stateful___readState" title="Definition of example"><span class="const token" data-binding="const-Stateful.readState" data-verso-hover="135">readState</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">&gt;=&gt;</span><span class="inter-text"> </span><a href="#modifyStateWith" title="Definition of example"><span class="const token" data-binding="const-modifyStateWith" data-verso-hover="139">modifyStateWith</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.70" data-verso-hover="140">σfσ</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">&gt;=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.74" data-verso-hover="142">σpσ</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><p>
                    Given a program <code>σpσ</code>, <code>readState &gt;=&gt; modifyStateWith</code> reads the state so that it becomes the initial value
(argument of) <code>σpσ</code>, modifies the state (not transforming the initial value (argument)), and then <code>σpσ</code>
transforms that initial value to a final value.</p>
                  </section>
                </section>
              <section>
                <h3 id="PSBP-Documentation--Stateful-Programming--instance-Stateful-___">
                  10.2. <code>instance Stateful σ</code></h3>
                <p>
                  <code>Stateful σ</code> is implemented in terms of <code>MonadStateOf</code>.</p>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-26381">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-MonadStateOf" data-verso-hover="143">MonadStateOf</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="60">computation</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
    </span><a href="#Stateful" title="Definition of example"><span class="const token" data-binding="const-Stateful" data-verso-hover="134">Stateful</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="4">σ</span><span class="inter-text">
      </span><span class="unknown token" data-binding="">(</span><a href="#FromComputationValuedFunction" title="Definition of example"><span class="const token" data-binding="const-FromComputationValuedFunction" data-verso-hover="59">FromComputationValuedFunction</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="60">computation</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-26488">where</span><span class="inter-text">
  </span><a href="#Stateful___readState" title="Definition of example"><span class="const token" data-binding="const-Stateful.readState" data-verso-hover="144">readState</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="const token" data-binding="const-FromComputationValuedFunction.mk" data-verso-hover="65">.mk</span><span class="inter-text"> </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="const token" data-binding="const-MonadState.get" data-verso-hover="145">get</span><span class="inter-text">
  </span><a href="#Stateful___writeState" title="Definition of example"><span class="const token" data-binding="const-Stateful.writeState" data-verso-hover="146">writeState</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="const token" data-binding="const-FromComputationValuedFunction.mk" data-verso-hover="65">.mk</span><span class="inter-text"> </span><span class="const token" data-binding="const-MonadStateOf.set" data-verso-hover="147">set</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code></section>
              <section>
                <h3 id="PSBP-Documentation--Stateful-Programming--StatefulProgram">
                  10.3. <code>StatefulProgram</code></h3>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.abbrev-26589">abbrev</span><span class="inter-text"> </span><span class="const token" data-binding="const-StatefulProgram" data-verso-hover="148" id="StatefulProgram">StatefulProgram</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.3" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="60">computation</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><a href="#FromComputationValuedFunction" title="Definition of example"><span class="const token" data-binding="const-FromComputationValuedFunction" data-verso-hover="59">FromComputationValuedFunction</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-StateT" data-verso-hover="149">StateT</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.3" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="60">computation</span><span class="unknown token" data-binding="">)</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-26687">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-materializeStateful" data-verso-hover="150" id="materializeStateful">materializeStateful</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-Monad" data-verso-hover="74">Monad</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43" data-verso-hover="60">computation</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.64" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.66" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
      </span><a href="#StatefulProgram" title="Definition of example"><span class="const token" data-binding="const-StatefulProgram" data-verso-hover="148">StatefulProgram</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.57" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.43" data-verso-hover="60">computation</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.64" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.66" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text">
      </span><span class="var token" data-binding="var-_uniq.64" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text">
      </span><span class="var token" data-binding="var-_uniq.57" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text">
      </span><span class="var token" data-binding="var-_uniq.43" data-verso-hover="60">computation</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.66" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.93" data-verso-hover="151">αpβ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.96" data-verso-hover="28">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text">
      </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.99" data-verso-hover="152">σ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text">
        </span><span class="const token" data-binding="const-StateT.run" data-verso-hover="153">StateT.run</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.93" data-verso-hover="154">αpβ</span><span class="unknown token" data-binding="">.</span><a href="#FromComputationValuedFunction___toComputationValuedFunction" title="Definition of example"><span class="const token" data-binding="const-FromComputationValuedFunction.toComputationValuedFunction" data-verso-hover="61">toComputationValuedFunction</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.96" data-verso-hover="28">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.99" data-verso-hover="152">σ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">&gt;&gt;=</span><span class="inter-text">
          </span><span class="unknown token" data-binding="">λ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.187" data-verso-hover="127">β</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="const token" data-binding="const-Pure.pure" data-verso-hover="66">pure</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.187" data-verso-hover="127">β</span><span class="inter-text">

</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-26989">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-materializeActiveStateful" data-verso-hover="155" id="materializeActiveStateful">materializeActiveStateful</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.562" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.564" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="2">Type</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><a href="#StatefulProgram" title="Definition of example"><span class="const token" data-binding="const-StatefulProgram" data-verso-hover="148">StatefulProgram</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.560" data-verso-hover="4">σ</span><span class="inter-text"> </span><a href="#Active" title="Definition of example"><span class="const token" data-binding="const-Active" data-verso-hover="87">Active</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.562" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.564" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.562" data-verso-hover="4">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.560" data-verso-hover="4">σ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.564" data-verso-hover="4">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#materializeStateful" title="Definition of example"><span class="const token" data-binding="const-materializeStateful" data-verso-hover="150">materializeStateful</span></a><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code></section>
              <section>
                <h3 id="PSBP-Documentation--Stateful-Programming--fibonacciIncrementingArgumentPair">
                  10.4. <code>fibonacciIncrementingArgumentPair</code></h3>
                <p>
                  Program <code>fibonacciIncrementingArgumentPair</code> below shows the effectfulness of stateful programs.</p>
                <p>
                  Let</p>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.unsafe-27278">unsafe</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-27285">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-fibonacciIncrementingArgument" data-verso-hover="156" id="fibonacciIncrementingArgument">fibonacciIncrementingArgument</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Creational" title="Definition of example"><span class="const token" data-binding="const-Creational" data-verso-hover="9">Creational</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Sequential" title="Definition of example"><span class="const token" data-binding="const-Sequential" data-verso-hover="12">Sequential</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Conditional" title="Definition of example"><span class="const token" data-binding="const-Conditional" data-verso-hover="15">Conditional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Stateful" title="Definition of example"><span class="const token" data-binding="const-Stateful" data-verso-hover="134">Stateful</span></a><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#usingAndModifyingStateAsArgumentWith" title="Definition of example"><span class="const token" data-binding="const-usingAndModifyingStateAsArgumentWith" data-verso-hover="141">usingAndModifyingStateAsArgumentWith</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">.</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="39">1</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><a href="#fibonacci" title="Definition of example"><span class="const token" data-binding="const-fibonacci" data-verso-hover="53">fibonacci</span></a><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><p>
                  in</p>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.unsafe-27551">unsafe</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-27558">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-fibonacciIncrementingArgumentPair" data-verso-hover="157" id="fibonacciIncrementingArgumentPair">fibonacciIncrementingArgumentPair</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Functional" title="Definition of example"><span class="const token" data-binding="const-Functional" data-verso-hover="0">Functional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Creational" title="Definition of example"><span class="const token" data-binding="const-Creational" data-verso-hover="9">Creational</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Sequential" title="Definition of example"><span class="const token" data-binding="const-Sequential" data-verso-hover="12">Sequential</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Conditional" title="Definition of example"><span class="const token" data-binding="const-Conditional" data-verso-hover="15">Conditional</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">[</span><a href="#Stateful" title="Definition of example"><span class="const token" data-binding="const-Stateful" data-verso-hover="134">Stateful</span></a><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">program</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="const token" data-binding="const-Nat" data-verso-hover="38">Nat</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
    </span><a href="#fibonacciIncrementingArgument" title="Definition of example"><span class="const token" data-binding="const-fibonacciIncrementingArgument" data-verso-hover="156">fibonacciIncrementingArgument</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">&&&</span><span class="inter-text">
    </span><a href="#fibonacciIncrementingArgument" title="Definition of example"><span class="const token" data-binding="const-fibonacciIncrementingArgument" data-verso-hover="156">fibonacciIncrementingArgument</span></a><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info information"><span class="hover-container"><span class="hover-info messages"><code class="verso-message information"><span class="text"></span><span class="highlighted"><span class="inter-text"></span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">(</span><span class="inter-text"></span><span class="unknown token" data-binding="">89</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">144</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">)</span></span></code></span></span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-27896" data-verso-hover="94">#eval</span></span><span class="inter-text">
  </span><a href="#materializeActiveStateful" title="Definition of example"><span class="const token" data-binding="const-materializeActiveStateful" data-verso-hover="155">materializeActiveStateful</span></a><span class="inter-text">
    </span><a href="#fibonacciIncrementingArgumentPair" title="Definition of example"><span class="const token" data-binding="const-fibonacciIncrementingArgumentPair" data-verso-hover="157">fibonacciIncrementingArgumentPair</span></a><span class="inter-text">
    </span><span class="typed token" data-binding="" data-verso-hover="39">0</span><span class="inter-text">
    </span><span class="typed token" data-binding="" data-verso-hover="39">10</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code><pre class="hl lean lean-output information"><span class="verso-message"><span class="text"></span><span class="text"></span><span class="highlighted"><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">(</span><span class="unknown token" data-binding="">89</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">144</span><span class="const token" data-binding="const-Prod.mk" data-verso-hover="73">)</span></span></span></pre></section>
              </section>
            </section>
          </div>
        </main></div>
    </body>
  </html>

